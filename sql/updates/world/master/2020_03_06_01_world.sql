DELETE FROM `playercreateinfo` WHERE `race` IN (22);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 1, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 3, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 4, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 5, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 6, 609, 4298, 2356.21, -5662.21, 426.026, 3.93485);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 8, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 9, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847);
INSERT INTO `playercreateinfo`(`race`, `class`, `map`, `zone`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES (22, 11, 654, 4756, -1451.53, 1403.35, 35.5561, 0.333847); 

UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilneas_city_guard_gate_34864';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_prince_liam_greymane_34850';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_rampaging_worgen_35660';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilneas_city_guard_34916';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_prince_liam_greymane_34913';
UPDATE `gameobject_template` SET `ScriptName` = '' WHERE `ScriptName` = 'go_merchant_square_door_195327';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_rampaging_worgen_34884';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_frightened_citizen_34981';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_frightened_citizen_35836';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gwen_armstead_35840';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_sergeant_cleese_35839';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilnean_royal_guard_35232';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_wounded_guard_47091';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_mariam_spellwalker_35872';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_king_genn_greymane_35112';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_bloodfang_worgen_35118';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_tobias_mistmantle_35124';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_darius_crowley_35077';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_runt_35188';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_alpha_35170';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_runt_35456';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_alpha_35167';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_godfrey_35115';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_josiah_avery_35369';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_josiah_avery_trigger_50415';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lorna_crowley_35378';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_bloodfang_lurker_35463';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilnean_mastiff_35631';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_godfrey_35906';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilnean_city_guard_35504';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_king_genn_greymane_35550';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_king_greymanes_horse_35905';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_krennan_aranas_35907';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_commandeered_cannon_35914';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_bloodfang_stalker_35229';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_darius_crowley_35552';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_sister_almyra_44468';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_crowley_horse_35231';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_rebel_cannon_35317';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_northgate_rebel_36057';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_darius_crowley_35566';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_northgate_rebel_41015';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_frenzied_stalker_35627';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_throw_torch_67063';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_krennan_aranas_38553';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_marcus_37803';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_prince_liam_greymane_38218';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_myriam_spellwaker_38465';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_sister_almyra_38466';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_king_genn_greymane_38470';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lady_sylvanas_windrunner_38469';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_soultethered_banshee_38473';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lorna_crowley_38426';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lord_darius_crowley_38415';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilnean_militia_38221';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_freed_emberstone_villager_38425';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_forsaken_crossbowman_38210';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_dark_ranger_elite_38464';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_vile_abomination_38420';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_warrior_38348';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gorerot_38331';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_prince_liam_greymane_38474';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lorna_crowley_38611';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_rapier_of_the_gilnean_patriots_71388';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_fiery_boulder_72050';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_fiery_boulder_72051';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_shoot_liam_72116';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_tobias_mistmantle_38507';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lady_sylvanas_windrunner_38530';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_captured_riding_bat_38540';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_tobias_mistmantle_43749';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_hippogryph_43751';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_worgen_warrior_43651';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lorna_crowley_43566';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gilnean_sharpshooter_43703';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_gunship_grunt_42141';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_wyvern_43713';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_lorna_crowley_43727';
UPDATE `creature_template` SET `ScriptName` = '' WHERE `ScriptName` = 'npc_admiral_nightwind_36616';
UPDATE `gameobject_template` SET `ScriptName` = '' WHERE `ScriptName` = 'go_worgen_gunship_203428';
UPDATE `gameobject_template` SET `ScriptName` = '' WHERE `ScriptName` = 'go_rope_204428';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_fly_back_72849';
UPDATE `spell_script_names` SET `ScriptName` = '' WHERE `ScriptName` = 'spell_iron_bomb_72247';

DELETE FROM `spell_area` WHERE `spell`= 59073 AND `area` IN (4756, 4755, 4757, 4714);
INSERT INTO `spell_area` (`spell`, `area`, `gender`, `quest_start`, `quest_start_status`, `flags`, `quest_end`, `quest_end_status`) VALUES
(59073, 4756, 2, 14078, 64, 1, 14159, 1|2|8|32),
(59073, 4755, 2, 14099, 2|64, 1, 14159, 1|2|8|32),
(59073, 4757, 2, 14099, 2|64, 1, 14159, 1|2|8|32),
(59073, 4714, 2, 14099, 2|64, 1, 14159, 1|2|8|32);

DELETE FROM `spell_area` WHERE `spell`= 49416 AND `area`= 4756;
INSERT INTO `spell_area` (`spell`, `area`, `gender`, `quest_start`, `quest_start_status`, `flags`, `quest_end`, `quest_end_status`) VALUES
(49416, 4756, 2, 14078, 64, 1, 14099, 1|8|32);

-- Generic NPC phasing fixups
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 371 WHERE `id` IN (39095, 34863);

-- Generic trigger bunny (multiphase)
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 372 WHERE `id` IN (35374, 35830, 35010, 35011) AND `map`= 654 AND `areaId`= 4756;

-- Conditions
DELETE FROM `conditions` WHERE `SourceEntry` IN (68087, 68070, 80281) AND `SourceTypeOrReferenceId`= 13;
INSERT INTO conditions (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 1, 68087, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Just Citizen'),
(13, 1, 80281, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Summon Citizen and Worgen'),
(13, 3, 68070, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Summon Citizen and Worgen');

-- Royal orders pre-quest chain
DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId`= 19 AND `SourceEntry`= 14099;
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceEntry`, `ConditionTypeOrReference`, `ConditionValue1`, `ElseGroup`) VALUES
-- Royal Orders
(19, 14099, 8, 14093, 0),
(19, 14099, 8, 14098, 0),
(19, 14099, 8, 14094, 0);

DELETE FROM `smart_scripts` WHERE `entryorguid`= 34981;
UPDATE `creature_template` SET `AIName`= '', `ScriptName`= 'npc_frightened_citizen' WHERE `entry` IN (34981, 35836);

-- Rampaging Worgen fixups
UPDATE `creature_template` SET `flags_extra` = `flags_extra` | 2 WHERE `entry`= 34884;

-- Merchant Square Quest Chain
DELETE FROM `quest_template_addon` WHERE `ID` IN (14093, 14098, 14099, 14094);
INSERT INTO `quest_template_addon` (`ID`, `PrevQuestID`, `NextQuestID`, `ExclusiveGroup`) VALUES
(14093, 14091, 0, 0),
(14098, 14091, 0, 0),
(14094, 14091, 0, 0),
(14099, 0, 0, 0); -- Royal Orders

-- Remove questgiver entry from rampaging worgens
DELETE FROM `creature_queststarter` WHERE `id`= 34884;

DELETE FROM `creature_text` WHERE `CreatureID` IN (34981, 35836, 34913);
INSERT INTO `creature_text` (`CreatureID`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES
-- Frightened Citizen
(34981, 0, 0, 'What in the world?  Let''s get out of here!', 12, 0, 100, 1, 0, 0, 35235, 'Frightened Citizen to Player'),
(34981, 0, 1, 'Let''s go!', 12, 0, 100, 1, 0, 0, 35236, 'Frightened Citizen to Player'),
(34981, 0, 2, 'No time to waste!', 12, 0, 100, 1, 0, 0, 35237, 'Frightened Citizen to Player'),
(34981, 0, 3, 'Worgen!  Worgen everywhere!', 12, 0, 100, 1, 0, 0, 35238, 'Frightened Citizen to Player'),
(34981, 0, 4, 'Flee!  They''re everywhere!', 12, 0, 100, 1, 0, 0, 35240, 'Frightened Citizen to Player'),
(34981, 0, 5, 'This place isn''t safe.  Let''s leave!', 12, 0, 100, 1, 0, 0, 35239, 'Frightened Citizen to Player'),
(34981, 0, 6, 'Protect me, please!', 12, 0, 100, 1, 0, 0, 35234, 'Frightened Citizen to Player'),
(35836, 0, 0, 'It''s coming right for me!!', 12, 0, 100, 1, 0, 0, 36037, 'Frightened Citizen to Player'),
(35836, 0, 1, 'Help me, please!', 12, 0, 100, 1, 0, 0, 36038, 'Frightened Citizen to Player'),
(35836, 0, 2, 'There''s one after me!', 12, 0, 100, 1, 0, 0, 36039, 'Frightened Citizen to Player'),
(35836, 0, 3, 'Help!', 12, 0, 100, 1, 0, 0, 36040, 'Frightened Citizen to Player'),
(35836, 0, 4, 'I don''t want to die!', 12, 0, 100, 1, 0, 0, 36041, 'Frightened Citizen to Player'),
-- Liam Greyman Phase 170
(34913, 0, 0, 'Stand your ground, men!', 14, 0, 100, 0, 0, 19617, 35166, 'Prince Liam Greymane'),
(34913, 0, 1, 'Defeat these foul beasts!', 14, 0, 100, 0, 0, 19618, 35167, 'Prince Liam Greymane'),
(34913, 0, 2, 'Protect the civilians!', 14, 0, 100, 0, 0, 19619, 35168, 'Prince Liam Greymane'),
(34913, 0, 3, 'Push them back!', 14, 0, 100, 0, 0, 19620, 35169, 'Prince Liam Greymane'),
(34913, 0, 4, 'Take heart, men!  We must protect our city!', 14, 0, 100, 0, 0, 19621, 35170, 'Prince Liam Greymane');

-- Creature Prince Liam Greymane 34913 SAI
SET @ENTRY := 34913;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // "),
(@ENTRY, 0, 1, 0, 4, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On aggro - Self: Talk 0 // "),
(@ENTRY, 0, 2, 0, 0, 0, 100, 0, 0, 0, 2000, 2000, 11, 50092, 64, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "When in combat and timer at the begining between 0 and 0 ms (and later repeats every 2000 and 2000 ms) - Self: Cast spell 50092 on Victim // ");

-- Make Supply crate quest related
UPDATE `gameobject_template_addon` SET `flags`= 4 WHERE `entry`= 195306;
-- Turn Gwen into a civillian so she wont attack anymore
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry`= 34936;
-- Add some trigger flags
UPDATE `creature_template` SET `flags_extra`= 128 WHERE `entry`= 35374;

-- Chains for Military District

-- Class Quests
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14280;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14275;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14277;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14278;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14269;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14273;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14265;

DELETE FROM `quest_template_addon` WHERE `ID` IN (14157, 24930);
DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId`= 19 AND `SourceEntry` IN (14157, 24930);
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceEntry`, `ConditionTypeOrReference`, `ConditionValue1`, `ElseGroup`) VALUES
-- Old Divisions
(19, 14157, 8, 14285, 0),
(19, 14157, 8, 14286, 1),
(19, 14157, 8, 14287, 2),
(19, 14157, 8, 14288, 3),
(19, 14157, 8, 14289, 4),
(19, 14157, 8, 14290, 5),
(19, 14157, 8, 14291, 6),
-- While you're at it
(19, 24930, 8, 14285, 0),
(19, 24930, 8, 14286, 1),
(19, 24930, 8, 14287, 2),
(19, 24930, 8, 14288, 3),
(19, 24930, 8, 14289, 4),
(19, 24930, 8, 14290, 5),
(19, 24930, 8, 14291, 6);

DELETE FROM `quest_template_addon` WHERE `ID` IN (14159, 14294, 14212);
INSERT INTO `quest_template_addon` (`ID`, `PrevQuestID`, `NextQuestID`, `ExclusiveGroup`) VALUES
(14159, 26129, 0, 0),
(14294, 14293, 0, 0),
(14212, 14294, 0, 0);

-- Creature Lord Godfrey 35115 SAI
SET @ENTRY := 35115;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 19, 0, 100, 0, 24930, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 24930 - Action invoker: Talk 0 // "),
(@ENTRY, 0, 1, 2, 61, 0, 100, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Target_0 = Action invoker // "),
(@ENTRY, 0, 2, 3, 61, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 11, 35112, 10, 0, 0, 0, 0, 0, " Linked - Self: Send stored target 0 to Creature King Genn Greymane (35112) in 10 yd // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 45, 0, 1, 0, 0, 0, 0, 11, 35112, 10, 0, 0, 0, 0, 0, " Linked - Creature King Genn Greymane (35112) in 10 yd: Set creature data #0 to 1 // ");

-- Creature King Genn Greymane 35112 SAI
SET @ENTRY := 35112;
UPDATE `creature_template` SET `AIName`="SmartAI",`ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 38, 0, 100, 0, 0, 1, 0, 0, 67, 0, 5000, 5000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On data 0 set to 1 - Trigger timed event #0 in 5000 - 5000 ms // "),
(@ENTRY, 0, 1, 0, 59, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 0, 0, 0, "On timed event 0 triggered - storedTarget[0]: Talk 0 // ");

DELETE FROM `creature_text` WHERE `CreatureID` IN (35112, 35115, 35378, 35550, 35905, 35907, 35906);
INSERT INTO `creature_text` (`CreatureID`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES
(35112, 0, 0, 'Enough!  I''ve made up my mind.  We need Crowley on our side.', 12, 0, 100, 0, 0, 0, 38602, 'King Genn Greymane to Player'),
(35115, 0, 0, 'We ought to leave Crowley in prison with those beasts!', 12, 0, 100, 0, 0, 0, 38601, 'Lord Godfrey to Player'),
(35378, 0, 0, 'This mastiff will help you find the hidden worgen.', 12, 0, 100, 0, 0, 19696, 38744, 'Lorna Crowley to Player'),
(35550, 0, 0, 'Keep them back!', 14, 0, 100, 0, 0, 19712, 36092, 'King Genn Greymane'),
(35550, 0, 1, 'Fire!', 14, 0, 100, 0, 0, 19710, 36091, 'King Genn Greymane'),
(35550, 0, 2, 'Hold the barricades!  Do not give them an inch!', 14, 0, 100, 0, 0, 19709, 36090, 'King Genn Greymane'),
(35905, 0, 0, 'Rescue Krennan Aranas by using your vehicle''s ability.$B|TInterface\\Icons\\inv_misc_groupneedmore.blp:64|t', 42, 0, 100, 0, 0, 0, 36078, 'King Greymane''s Horse to Player'),
(35907, 0, 0, 'Thank you!  I owe you my life.', 12, 0, 100, 0, 0, 20922, 38729, 'Krennan Aranas to King Greymane''s Horse'),
(35906, 0, 0, 'We''ve got Aranas!  Fire at will!', 14, 0, 100, 0, 0, 19634, 36099, 'Lord Godfrey to Player');


DELETE FROM `creature` WHERE `id` IN (35456, 35457);

-- Creature Lord Darius Crowley 35077 SAI
SET @ENTRY := 35077;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 19, 0, 100, 0, 14154, 0, 0, 0, 11, 66914, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14154 - Self: Cast spell 66914 on Action invoker // ");

DELETE FROM `spell_area` WHERE `spell` IN (72870, 49416, 72872, 76642) AND `area` IN (4755, 4757, 4758, 4759, 4761);
INSERT INTO `spell_area` (`spell`, `area`, `gender`, `quest_start`, `quest_start_status`, `flags`, `quest_end`, `quest_end_status`) VALUES
(72870, 4757, 2, 14159, 64, 1, 14293, 1|2|8|32),
(72870, 4758, 2, 14159, 64, 1, 14293, 1|2|8|32),
(49416, 4757, 2, 14159, 64, 1, 14221, 1|2|8|32),
(72872, 4757, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4758, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4759, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4761, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4755, 2, 14293, 64, 1, 14221, 1|2|8|32),
-- Last Stand
(76642, 4757, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4758, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4759, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4761, 2, 14221, 64, 1, 14222, 1|2|8|32);

UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 367 WHERE `id` IN (35906);
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 460 WHERE `id` IN (35229, 35317, 35566);
UPDATE `creature` SET `phaseId`= 172, `phaseGroup`= 0 WHERE `id` IN (35618, 36057);

-- Creature Wounded Guard 47091 SAI
SET @ENTRY := 47091;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 8, 0, 100, 0, 774, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 774 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 1, 0, 8, 0, 100, 0, 2061, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 2061 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 2, 0, 1, 0, 100, 0, 1, 1, 30000, 30000, 11, 46577, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 1 and 1 ms (and later repeats every 30000 and 30000 ms) - Self: Cast spell 46577 on Self // ");

-- Creature Bloodfang Worgen 35118 SAI
SET @ENTRY := 35118;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Bloodfang Worgen - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Bloodfang Worgen - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 0, 8, 0, 100, 0, 100, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 100 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 3, 0, 8, 0, 100, 0, 56641, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 56641 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 4, 0, 8, 0, 100, 0, 2098, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 2098 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 5, 0, 8, 0, 100, 0, 348, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 348 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 6, 0, 8, 0, 100, 0, 5143, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 5143 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // ");

-- Creature Myriam Spellwaker 35872 SAI
SET @ENTRY := 35872;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // "),
(@ENTRY, 0, 1, 0, 0, 0, 100, 0, 0, 0, 3000, 3000, 11, 11538, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "When in combat and timer at the begining between 0 and 0 ms (and later repeats every 3000 and 3000 ms) - Self: Cast spell 11538 on Victim // ");

-- Creature Sergeant Cleese 35839 SAI
SET @ENTRY := 35839;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // ");

-- Creature Lorna Crowley 35378 SAI
SET @ENTRY := 35378;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 19, 0, 100, 0, 14204, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14204 - Action invoker: Talk 0 // ");

DELETE FROM `conditions` WHERE `SourceEntry` IN (67805, 68228, 68235) AND `SourceTypeOrReferenceId`= 13;
INSERT INTO conditions (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 1, 67805, 0, 0, 31, 0, 3, 35463, 0, 0, 0, '', 'Attack Lurker - Target Bloodfang Lurker'),
(13, 1, 68228, 0, 0, 31, 0, 3, 35753, 0, 0, 0, '', 'Rescue Krennan - Target Krennan'),
(13, 1, 68235, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Cannon Fire - Target Generic Trigger');

-- Creature Bloodfang Lurker 35463 SAI
SET @ENTRY := 35463;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Bloodfang Lurker - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Bloodfang Lurker - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 3, 11, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On respawn  - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Respawn - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 4, 5, 7, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On evade - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 5, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Evade - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 6, 0, 4, 0, 100, 0, 0, 0, 0, 0, 8, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On aggro - Self: Set react state to REACT_AGGRESSIVE // ");

-- Creature King Genn Greymane 35550 SAI
SET @ENTRY := 35550;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 60, 0, 100, 0, 19000, 20000, 70000, 70000, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Every 70000 and 70000 ms (for the first time, timer between 19000 and 20000 ms) - Self: Talk 0 // "),
(@ENTRY, 0, 1, 0, 19, 0, 100, 0, 14293, 0, 0, 0, 11, 68232, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14293 - Self: Cast spell 68232 on Action invoker // ");

-- Creature Krennan Aranas 35907 SAI
SET @ENTRY := 35907;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 1, 0, 54, 0, 100, 1, 0, 0, 0, 0, 11, 46598, 2, 0, 0, 0, 0, 22, 0, 0, 0, 0, 0, 0, 0, "On just summoned - Self: Cast spell 46598 on Invoker's vehicle // ");

-- Creature Lord Godfrey 35906 SAI
SET @ENTRY := 35906;
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 20, 0, 100, 0, 14293, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player rewards quest 14293 - Action invoker: Talk 0 // "),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 80, 3591400, 0, 0, 0, 0, 0, 10, 376902, 0, 0, 0, 0, 0, 0, " Linked - Start timed action list id #0 // ");

UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`= '' WHERE `entry`= 35914;
DELETE FROM `smart_scripts` WHERE `entryorguid`=35914 AND `source_type`=0;
DELETE FROM `smart_scripts` WHERE `entryorguid`=3591400 AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(3591400,9,0,0,0,0,100,0,3000,3000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"), -- 3secs delay
(3591400,9,1,0,0,0,100,0,2000,2000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"), -- 2secs delay
(3591400,9,2,0,0,0,100,0,2000,2000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"); -- 2secs delay

UPDATE `creature_template` SET `vehicleID`= 494, `speed_run`= 1.2857, `ScriptName`= 'npc_greymanes_horse' WHERE `entry`= 35905;
UPDATE `creature_template` SET `InhabitType`= 4 WHERE `entry`= 35753;
UPDATE `creature_addon` SET `emote`= 472 WHERE `guid`= 376850;
UPDATE `creature_template` SET `vehicleID`= 1418 WHERE `entry`= 50420;

UPDATE `creature_addon` SET `emote`= 431 WHERE `guid`= 376588;
UPDATE `gameobject` SET `phaseGroup`= 0, `phaseID`= 171 WHERE `guid`= 235509;
UPDATE `gameobject` SET `phaseGroup`= 507, `phaseID`= 0 WHERE `guid`= 235509;

UPDATE `creature_template` SET `flags_extra`= 128 WHERE `entry`= 35374;
-- Turn multiple npc's into civillians to avoid aggro
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry` IN (35112, 35115, 47091, 35912, 35873, 32768, 35869, 35874, 38832, 35550, 35618, 51947, 35906, 35753, 44469, 44461, 44463, 44465, 35554, 44455, 35552, 35911, 44470, 44468, 44459, 35551);

-- Spawn Krennan Gameobject Focus
DELETE FROM `gameobject` WHERE `guid`= 235581;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnDifficulties`, `phaseID`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES
(235581, 195660, 654, 0, 171, -1672.96, 1344.75, 15.1352, 1.36203);

-- Fix flags for not selectable gameobjects
UPDATE `gameobject_template_addon` SET `flags`= `flags`|16 WHERE `entry` IN (195466, 195465, 195430, 195454, 195453);
-- Put barricades in correct phase
UPDATE `gameobject` SET `phaseId`= 0, `phaseGroup`= 507 WHERE `guid` IN (235561, 235562, 235560, 235559);
-- Corrected trigger phase id's
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 372 WHERE `id`= 35374 AND `map`= 654;
-- Chains for Military District

-- Class Quests
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14280;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14275;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14277;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14278;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14269;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14273;
UPDATE `quest_template_addon` SET `PrevQuestID`= 14099 WHERE `ID`= 14265;

DELETE FROM `quest_template_addon` WHERE `ID` IN (14157, 24930);
DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId`= 19 AND `SourceEntry` IN (14157, 24930);
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceEntry`, `ConditionTypeOrReference`, `ConditionValue1`, `ElseGroup`) VALUES
-- Old Divisions
(19, 14157, 8, 14285, 0),
(19, 14157, 8, 14286, 1),
(19, 14157, 8, 14287, 2),
(19, 14157, 8, 14288, 3),
(19, 14157, 8, 14289, 4),
(19, 14157, 8, 14290, 5),
(19, 14157, 8, 14291, 6),
-- While you're at it
(19, 24930, 8, 14285, 0),
(19, 24930, 8, 14286, 1),
(19, 24930, 8, 14287, 2),
(19, 24930, 8, 14288, 3),
(19, 24930, 8, 14289, 4),
(19, 24930, 8, 14290, 5),
(19, 24930, 8, 14291, 6);

DELETE FROM `quest_template_addon` WHERE `ID` IN (14159, 14294, 14212);
INSERT INTO `quest_template_addon` (`ID`, `PrevQuestID`, `NextQuestID`, `ExclusiveGroup`) VALUES
(14159, 26129, 0, 0),
(14294, 14293, 0, 0),
(14212, 14294, 0, 0);

-- Creature Lord Godfrey 35115 SAI
SET @ENTRY := 35115;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 19, 0, 100, 0, 24930, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 24930 - Action invoker: Talk 0 // "),
(@ENTRY, 0, 1, 2, 61, 0, 100, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Target_0 = Action invoker // "),
(@ENTRY, 0, 2, 3, 61, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 11, 35112, 10, 0, 0, 0, 0, 0, " Linked - Self: Send stored target 0 to Creature King Genn Greymane (35112) in 10 yd // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 45, 0, 1, 0, 0, 0, 0, 11, 35112, 10, 0, 0, 0, 0, 0, " Linked - Creature King Genn Greymane (35112) in 10 yd: Set creature data #0 to 1 // ");

-- Creature King Genn Greymane 35112 SAI
SET @ENTRY := 35112;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 38, 0, 100, 0, 0, 1, 0, 0, 67, 0, 5000, 5000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On data 0 set to 1 - Trigger timed event #0 in 5000 - 5000 ms // "),
(@ENTRY, 0, 1, 0, 59, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 0, 0, 0, "On timed event 0 triggered - storedTarget[0]: Talk 0 // ");

DELETE FROM `creature_text` WHERE `CreatureID` IN (35112, 35115, 35378, 35550, 35905, 35907, 35906);
INSERT INTO `creature_text` (`CreatureID`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES
(35112, 0, 0, 'Enough!  I''ve made up my mind.  We need Crowley on our side.', 12, 0, 100, 0, 0, 0, 38602, 'King Genn Greymane to Player'),
(35115, 0, 0, 'We ought to leave Crowley in prison with those beasts!', 12, 0, 100, 0, 0, 0, 38601, 'Lord Godfrey to Player'),
(35378, 0, 0, 'This mastiff will help you find the hidden worgen.', 12, 0, 100, 0, 0, 19696, 38744, 'Lorna Crowley to Player'),
(35550, 0, 0, 'Keep them back!', 14, 0, 100, 0, 0, 19712, 36092, 'King Genn Greymane'),
(35550, 0, 1, 'Fire!', 14, 0, 100, 0, 0, 19710, 36091, 'King Genn Greymane'),
(35550, 0, 2, 'Hold the barricades!  Do not give them an inch!', 14, 0, 100, 0, 0, 19709, 36090, 'King Genn Greymane'),
(35905, 0, 0, 'Rescue Krennan Aranas by using your vehicle''s ability.$B|TInterface\\Icons\\inv_misc_groupneedmore.blp:64|t', 42, 0, 100, 0, 0, 0, 36078, 'King Greymane''s Horse to Player'),
(35907, 0, 0, 'Thank you!  I owe you my life.', 12, 0, 100, 0, 0, 20922, 38729, 'Krennan Aranas to King Greymane''s Horse'),
(35906, 0, 0, 'We''ve got Aranas!  Fire at will!', 14, 0, 100, 0, 0, 19634, 36099, 'Lord Godfrey to Player');


DELETE FROM `creature` WHERE `id` IN (35456, 35457);

-- Creature Lord Darius Crowley 35077 SAI
SET @ENTRY := 35077;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 19, 0, 100, 0, 14154, 0, 0, 0, 11, 66914, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14154 - Self: Cast spell 66914 on Action invoker // ");

DELETE FROM `spell_area` WHERE `spell` IN (72870, 49416, 72872, 76642) AND `area` IN (4755, 4757, 4758, 4759, 4761);
INSERT INTO `spell_area` (`spell`, `area`, `gender`, `quest_start`, `quest_start_status`, `flags`, `quest_end`, `quest_end_status`) VALUES
(72870, 4757, 2, 14159, 64, 1, 14293, 1|2|8|32),
(72870, 4758, 2, 14159, 64, 1, 14293, 1|2|8|32),
(49416, 4757, 2, 14159, 64, 1, 14221, 1|2|8|32),
(72872, 4757, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4758, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4759, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4761, 2, 14293, 64, 1, 14221, 1|2|8|32),
(72872, 4755, 2, 14293, 64, 1, 14221, 1|2|8|32),
-- Last Stand
(76642, 4757, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4758, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4759, 2, 14221, 64, 1, 14222, 1|2|8|32),
(76642, 4761, 2, 14221, 64, 1, 14222, 1|2|8|32);

UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 367 WHERE `id` IN (35906);
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 460 WHERE `id` IN (35229, 35317, 35566);
UPDATE `creature` SET `phaseId`= 172, `phaseGroup`= 0 WHERE `id` IN (35618, 36057);

-- Creature Wounded Guard 47091 SAI
SET @ENTRY := 47091;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 8, 0, 100, 0, 774, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 774 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 1, 0, 8, 0, 100, 0, 2061, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 2061 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 2, 0, 1, 0, 100, 0, 1, 1, 30000, 30000, 11, 46577, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 1 and 1 ms (and later repeats every 30000 and 30000 ms) - Self: Cast spell 46577 on Self // ");

-- Creature Bloodfang Worgen 35118 SAI
SET @ENTRY := 35118;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Bloodfang Worgen - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Bloodfang Worgen - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 0, 8, 0, 100, 0, 100, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 100 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 3, 0, 8, 0, 100, 0, 56641, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 56641 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 4, 0, 8, 0, 100, 0, 2098, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 2098 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 5, 0, 8, 0, 100, 0, 348, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 348 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // "),
(@ENTRY, 0, 6, 0, 8, 0, 100, 0, 5143, 0, 0, 0, 33, 44175, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 5143 hit  - Action invoker: Give kill credit Spell Practice Credit (44175) // ");

-- Creature Myriam Spellwaker 35872 SAI
SET @ENTRY := 35872;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // "),
(@ENTRY, 0, 1, 0, 0, 0, 100, 0, 0, 0, 3000, 3000, 11, 11538, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "When in combat and timer at the begining between 0 and 0 ms (and later repeats every 3000 and 3000 ms) - Self: Cast spell 11538 on Victim // ");

-- Creature Sergeant Cleese 35839 SAI
SET @ENTRY := 35839;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // ");

-- Creature Lorna Crowley 35378 SAI
SET @ENTRY := 35378;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 19, 0, 100, 0, 14204, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14204 - Action invoker: Talk 0 // ");

DELETE FROM `conditions` WHERE `SourceEntry` IN (67805, 68228, 68235) AND `SourceTypeOrReferenceId`= 13;
INSERT INTO conditions (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 1, 67805, 0, 0, 31, 0, 3, 35463, 0, 0, 0, '', 'Attack Lurker - Target Bloodfang Lurker'),
(13, 1, 68228, 0, 0, 31, 0, 3, 35753, 0, 0, 0, '', 'Rescue Krennan - Target Krennan'),
(13, 1, 68235, 0, 0, 31, 0, 3, 35916, 0, 0, 0, '', 'Cannon Fire - Target Bloodfang Ripper');

-- Creature Bloodfang Lurker 35463 SAI
SET @ENTRY := 35463;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Bloodfang Lurker - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Bloodfang Lurker - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 3, 11, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On respawn  - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Respawn - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 4, 5, 7, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On evade - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 5, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Evade - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 6, 0, 4, 0, 100, 0, 0, 0, 0, 0, 8, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On aggro - Self: Set react state to REACT_AGGRESSIVE // ");

-- Creature King Genn Greymane 35550 SAI
SET @ENTRY := 35550;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 60, 0, 100, 0, 19000, 20000, 70000, 70000, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Every 70000 and 70000 ms (for the first time, timer between 19000 and 20000 ms) - Self: Talk 0 // "),
(@ENTRY, 0, 1, 0, 19, 0, 100, 0, 14293, 0, 0, 0, 11, 68232, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14293 - Self: Cast spell 68232 on Action invoker // ");

-- Creature Krennan Aranas 35907 SAI
SET @ENTRY := 35907;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 37, 0, 100, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 1, 0, 54, 0, 100, 1, 0, 0, 0, 0, 11, 46598, 2, 0, 0, 0, 0, 22, 0, 0, 0, 0, 0, 0, 0, "On just summoned - Self: Cast spell 46598 on Invoker's vehicle // ");

-- Creature Lord Godfrey 35906 SAI
SET @ENTRY := 35906;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 20, 0, 100, 0, 14293, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player rewards quest 14293 - Action invoker: Talk 0 // "),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 80, 3591400, 0, 0, 0, 0, 0, 10, 376902, 0, 0, 0, 0, 0, 0, " Linked - Start timed action list id #0 // ");

UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= 35914;
DELETE FROM `smart_scripts` WHERE `entryorguid`=35914 AND `source_type`=0;
DELETE FROM `smart_scripts` WHERE `entryorguid`=3591400 AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(3591400,9,0,0,0,0,100,0,3000,3000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"), -- 3secs delay
(3591400,9,1,0,0,0,100,0,2000,2000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"), -- 2secs delay
(3591400,9,2,0,0,0,100,0,2000,2000,0,0,11,68235,0,0,0,0,0,1,0,0,0,0,0,0,0,"Commandeered Cannon - On Script - cast spell"); -- 2secs delay

UPDATE `creature_template` SET `vehicleID`= 494, `speed_run`= 1.2857, `ScriptName`= 'npc_greymanes_horse' WHERE `entry`= 35905;
UPDATE `creature_template` SET `InhabitType`= 4 WHERE `entry`= 35753;
UPDATE `creature_addon` SET `emote`= 472 WHERE `guid`= 376850;
UPDATE `creature_template` SET `vehicleID`= 1418 WHERE `entry`= 50420;

UPDATE `creature_addon` SET `emote`= 431 WHERE `guid`= 376588;
UPDATE `gameobject` SET `phaseGroup`= 0, `phaseID`= 171 WHERE `guid`= 235509;
UPDATE `gameobject` SET `phaseGroup`= 507, `phaseID`= 0 WHERE `guid`= 235509;

UPDATE `creature_template` SET `flags_extra`= 128 WHERE `entry`= 35374;
-- Turn multiple npc's into civillians to avoid aggro
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry` IN (35112, 35115, 47091, 35912, 35873, 32768, 35869, 35874, 38832, 35550, 35618, 51947, 35906, 35753, 44469, 44461, 44463, 44465, 35554, 44455, 35552, 35911, 44470, 44468, 44459, 35551);

-- Spawn Krennan Gameobject Focus
DELETE FROM `gameobject` WHERE `guid`= 235581;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `phaseID`, `position_x`, `position_y`, `position_z`, `orientation`) VALUES
(235581, 195660, 654, 171, -1672.96, 1344.75, 15.1352, 1.36203);

-- Fix flags for not selectable gameobjects
UPDATE `gameobject_template_addon` SET `flags`= `flags`|16 WHERE `entry` IN (195466, 195465, 195430, 195454, 195453);
-- Put barricades in correct phase
UPDATE `gameobject` SET `phaseId`= 0, `phaseGroup`= 507 WHERE `guid` IN (235561, 235562, 235560, 235559);
-- Corrected trigger phase id's
UPDATE `creature` SET `phaseId`= 0, `phaseGroup`= 372 WHERE `id`= 35374 AND `map`= 654;

-- Creature Rampaging Worgen 35660 SAI
SET @ENTRY := 35660;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Rampaging Worgen - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Rampaging Worgen - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 0, 54, 0, 100, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On just summoned - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 3, 0, 1, 0, 100, 1, 60000, 60000, 0, 0, 41, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 60000 and 60000 ms (and later repeats every 0 and 0 ms) - Self: Despawn instantly // "),
(@ENTRY, 0, 4, 0, 1, 0, 100, 1, 3000, 3000, 0, 0, 29, 0, 0, 0, 0, 0, 0, 11, 35830, 15, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 3000 and 3000 ms (and later repeats every 0 and 0 ms) - Self: Follow Creature Gilneas Evacuation Facing Marker (First) (35830) in 15 yd by distance 0, angle 0 // "),
(@ENTRY, 0, 5, 0, 1, 0, 100, 1, 4000, 4000, 0, 0, 8, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 4000 and 4000 ms (and later repeats every 0 and 0 ms) - Self: Set react state to REACT_AGGRESSIVE // ");

UPDATE `gameobject_template_addon` SET `flags`= 4 WHERE `entry`= 195327;

UPDATE `quest_offer_reward` SET `RewardText`='You''ve done it again, $n.  The freed villagers are eager to help us against the Forsaken in any way they can.', `VerifiedBuild`=25383 WHERE `ID`=24575; -- Liberation Day
UPDATE `quest_offer_reward` SET `RewardText`='I thank you, $n.  Our people will no longer suffer under that monstrosity''s yoke.', `VerifiedBuild`=25383 WHERE `ID`=24674; -- Slaves to No One
UPDATE `quest_offer_reward` SET `RewardText`='I thank you, $n.  Our men and women will have a last good meal before they set off for battle.', `VerifiedBuild`=25383 WHERE `ID`=24675; -- Last Meal
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='I am glad to have you here, $n.  We''re surrounded by Forsaken on all sides and can use all the help we can get.', `VerifiedBuild`=25383 WHERE `ID`=24677; -- Flank the Forsaken
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='I wish it could''ve been avoided, $n.  Let us ensure this is resolved without further bloodshed.', `VerifiedBuild`=25383 WHERE `ID`=24592; -- Betrayal at Tempest's Reach
UPDATE `quest_offer_reward` SET `RewardText`='$n!$B$BGenn... they''ve taken Genn... they''ve taken... our king!', `VerifiedBuild`=25383 WHERE `ID`=24672; -- Onwards and Upwards
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=24673; -- Return to Stormglen
UPDATE `quest_offer_reward` SET `RewardText`='It is done then, $n.  You are one of us now.', `VerifiedBuild`=25383 WHERE `ID`=24593; -- Neither Human Nor Beast
UPDATE `quest_offer_reward` SET `Emote1`=66, `RewardText`='I knew we could count on you.  You''ve done well, $n.', `VerifiedBuild`=25383 WHERE `ID`=24646; -- Take Back What's Ours
UPDATE `quest_offer_reward` SET `Emote1`=1, `VerifiedBuild`=25383 WHERE `ID`=24628; -- Preparations
UPDATE `quest_offer_reward` SET `RewardText`='You are as good as I remember, $n.  It is good to have you back.', `VerifiedBuild`=25383 WHERE `ID`=24627; -- At Our Doorstep
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='You''re all right, $n!  I''ve been waiting for this day for a long time, it truly is great to see you friend.$B$BI''ve heard of what you''ve done and I''m thankful... especially for Lorna -- she''s all I''ve left.  I will send for her right away.', `VerifiedBuild`=25383 WHERE `ID`=24617; -- Tal'doren, the Wild Home
UPDATE `quest_offer_reward` SET `Emote1`=1, `Emote2`=66, `RewardText`='Well done, $n.  The scout never had a chance.', `VerifiedBuild`=25383 WHERE `ID`=24616; -- Losing Your Tail
UPDATE `quest_offer_reward` SET `RewardText`='I''ve been expecting you, $n.  Do not be alarmed.$B$BMy name is Belysra .  I am a priestess of the moon... a night elf.$B$BYou might not know my people, but the destinies of our two races have been linked since the Curse befell you.', `VerifiedBuild`=25383 WHERE `ID`=24578; -- The Blackwald
UPDATE `quest_offer_reward` SET `RewardText`='Great job, $n.  We''ve heard rumors of survivors further in the mountains.  Now we''ll be able to send scouts there.', `VerifiedBuild`=25383 WHERE `ID`=24501; -- Queen-Sized Troubles
UPDATE `quest_offer_reward` SET `RewardText`='You''ve done well, $n.  The spiders are everywhere, however, and I''m afraid we''ve barely put a dent in their numbers.', `VerifiedBuild`=25383 WHERE `ID`=24484; -- Pest Control
UPDATE `quest_offer_reward` SET `RewardText`='Thank you, $n.  It will take some time, but I''ll try to make sense of what we have.', `VerifiedBuild`=25383 WHERE `ID`=24495; -- Pieces of the Past
UPDATE `quest_offer_reward` SET `RewardText`='It''s good to see you made it, $n.  It looks like most everybody did.$B$BWe''re not doing too bad so far for an emergency evacuation.', `VerifiedBuild`=25383 WHERE `ID`=24483; -- Stormglen
UPDATE `quest_offer_reward` SET `Emote1`=1, `Emote2`=273, `RewardText`='You definitely got the ettin angry, $n.   I heard him myself.$B$BLet''s hope this works.', `VerifiedBuild`=25383 WHERE `ID`=24472; -- Introductions Are in Order
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='You''ve done it again, $n.  You have my thanks.', `VerifiedBuild`=25383 WHERE `ID`=24468; -- Stranded at the Marsh
UPDATE `quest_offer_reward` SET `Emote1`=1, `Emote2`=25, `RewardText`='Thanks for stopping, $n.  Our carriage got hit pretty bad.$B$BThe one in front of us got it worse.', `VerifiedBuild`=25383 WHERE `ID`=24438; -- Exodus
UPDATE `quest_offer_reward` SET `RewardText`='Look, $n!  Look at what''s become of Duskhaven!$B$BLook at what''s become of the last safe place in Gilneas!', `VerifiedBuild`=25383 WHERE `ID`=14467; -- Alas, Gilneas!
UPDATE `quest_offer_reward` SET `RewardText`='There you are, $n.  I''ve been expecting you.$B$BI got word of your recovery and... wait -- do you feel that?', `VerifiedBuild`=25383 WHERE `ID`=14466; -- The King's Observatory
UPDATE `quest_offer_reward` SET `Emote1`=2, `RewardText`='$n.  I''ve heard much about you.$B$BI understand you were crucial in my family''s survival during the outbreak in Gilneas City.', `VerifiedBuild`=25383 WHERE `ID`=14465; -- To Greymane Manor
UPDATE `quest_offer_reward` SET `RewardText`='Excellent work, $n.  I think I speak for everyone when I say the sooner we get out of here, the better.', `VerifiedBuild`=25383 WHERE `ID`=14463; -- Horses for Duskhaven
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14401; -- Grandma's Cat
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='You''re a peach, $n.  Thanks!', `VerifiedBuild`=25383 WHERE `ID`=14400; -- I Can't Wear This
UPDATE `quest_offer_reward` SET `RewardText`='Why thank you, $n.  I hope you didn''t peek!$B$BWhere are your manners, dear?', `VerifiedBuild`=25383 WHERE `ID`=14399; -- Grandma's Lost It Alright
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14398; -- Grandma Wahl
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14412; -- Washed Up
UPDATE `quest_offer_reward` SET `Emote1`=1, `RewardText`='This is great, $n.  I should be able to finish the repairs in no time.', `VerifiedBuild`=25383 WHERE `ID`=14404; -- Not Quite Shipshape
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14403; -- The Hayward Brothers
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14416; -- The Hungry Ettin
UPDATE `quest_offer_reward` SET `RewardText`='Stay back! Don''t make me...$B$BIs it you?  By the Light!  It''s you, $n!', `VerifiedBuild`=25383 WHERE `ID`=14406; -- The Crowley Orchard
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14397; -- Evacuation
UPDATE `quest_offer_reward` SET `RewardText`='You did what you could, $n.  With any luck a few others will find their way to shore.', `VerifiedBuild`=25383 WHERE `ID`=14395; -- Gasping for Breath
UPDATE `quest_offer_reward` SET `RewardText`='The ocean, $n.  It swallowed everything... the land... the Forsaken... our men!', `VerifiedBuild`=25383 WHERE `ID`=14396; -- As the Land Shatters
UPDATE `quest_offer_reward` SET `RewardText`='You did it, $n.  That should take the wind out of their sails.', `VerifiedBuild`=25383 WHERE `ID`=14386; -- Leader of the Pack
UPDATE `quest_offer_reward` SET `RewardText`='Well done, $n.  You might be a bloody beast, but you''re our beast.', `VerifiedBuild`=25383 WHERE `ID`=14382; -- Two By Sea
UPDATE `quest_offer_reward` SET `RewardText`='Well done, $n.  You might be a bloody beast, but you''re our beast.', `VerifiedBuild`=25383 WHERE `ID`=14382; -- Two By Sea
UPDATE `quest_offer_reward` SET `RewardText`='Not bad, $n.  It''s a good thing you''re on our side.', `VerifiedBuild`=25383 WHERE `ID`=14369; -- Unleash the Beast
UPDATE `quest_offer_reward` SET `RewardText`='My children are safe!  You''ve done a wonderful thing, $n.  I don''t know how to thank you!', `VerifiedBuild`=25383 WHERE `ID`=14368; -- Save the Children!
UPDATE `quest_offer_reward` SET `RewardText`='The Forsaken are here in full strength, $n.  We barely have enough men to hold them back.', `VerifiedBuild`=25383 WHERE `ID`=14367; -- The Allens' Storm Cellar
UPDATE `quest_offer_reward` SET `RewardText`='Great news, $n.  I''ve sent the remaining militia to the shore to meet the Forsaken force head on.', `VerifiedBuild`=25383 WHERE `ID`=14366; -- Holding Steady
UPDATE `quest_offer_reward` SET `RewardText`='You and me, $n.  We make a great team...$B$BIt''s good to have you back.', `VerifiedBuild`=25383 WHERE `ID`=14348; -- You Can't Take 'Em Alone
UPDATE `quest_offer_reward` SET `RewardText`='Yes, $n!  Just like old times...$B$BI''m going to have to work hard at not shooting you, but Krennan explained everything to us.', `VerifiedBuild`=25383 WHERE `ID`=14347; -- Hold the Line
UPDATE `quest_offer_reward` SET `RewardText`='$n!!!  You ARE alive!$B$BI thought I was having dreams about the old days when I heard your voice...', `VerifiedBuild`=25383 WHERE `ID`=14336; -- Kill or Be Killed
UPDATE `quest_offer_reward` SET `RewardText`='Forsaken!  Quick, $n!  We must mount a defense.', `VerifiedBuild`=25383 WHERE `ID`=14321; -- Invasion
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14320; -- In Need of Ingredients
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14313; -- Among Humans Again
UPDATE `quest_offer_reward` SET `RewardText`='I need you to pull through, $n.  This dosage is strong enough to kill a horse.$B$BBut I know you.  I know what you''re made of.  You will be fine.$B$BTrust me.  I know what you''re going through.$B$BNow drink up and close your eyes.', `VerifiedBuild`=25383 WHERE `ID`=14375; -- Last Chance at Humanity
UPDATE `quest_offer_reward` SET `RewardText`='They... they''ve stopped coming.$B$BNo, $n.  That''s not a good thing.', `VerifiedBuild`=25383 WHERE `ID`=14222; -- Last Stand
UPDATE `quest_offer_reward` SET `RewardText`='We''ve given them everything we have... yet still they come.  Do not worry, $n.  We''ll slay many more before today is over.', `VerifiedBuild`=25383 WHERE `ID`=14221; -- Never Surrender, Sometimes Retreat
UPDATE `quest_offer_reward` SET `RewardText`='You''ve done well, $n.  You''ve done more than could be asked of any Gilnean.$B$BWe''re running low on ammunition.  It''s time to regroup inside now.', `VerifiedBuild`=25383 WHERE `ID`=14218; -- By Blood and Ash
UPDATE `quest_offer_reward` SET `RewardText`='Brace yourself, $n.$B$BHere they come.', `VerifiedBuild`=25383 WHERE `ID`=14212; -- Sacrifices
UPDATE `quest_offer_reward` SET `RewardText`='We''re left with very few choices, $n.  What we do next will be a critical decision.', `VerifiedBuild`=25383 WHERE `ID`=14294; -- Time to Regroup
UPDATE `quest_offer_reward` SET `RewardText`='Well done, $n.  We''ll make sure Krennan makes it out of the city alive.', `VerifiedBuild`=25383 WHERE `ID`=14293; -- Save Krennan Aranas
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14214; -- Message to Greymane
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14204; -- From the Shadows
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14159; -- The Rebel Lord's Arsenal
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=26129; -- Brothers In Arms
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=24930; -- While You're At It
UPDATE `quest_offer_reward` SET `RewardText`='We did it, $n.  Thanks to you a good man has survived.', `VerifiedBuild`=25383 WHERE `ID`=14154; -- By the Skin of His Teeth
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=28850; -- The Prison Rooftop
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14157; -- Old Divisions
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14286; -- Safety in Numbers
UPDATE `quest_offer_reward` SET `RewardText`='$n!  Where have you been?$B$BAnyway... it''s great to see you in one piece.', `VerifiedBuild`=25383 WHERE `ID`=14265; -- Your Instructor
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14099; -- Royal Orders
UPDATE `quest_offer_reward` SET `RewardText`='Good job, $n.  Thanks to you, many Gilneans will live to see another day.', `VerifiedBuild`=25383 WHERE `ID`=14098; -- Evacuate the Merchant Square
UPDATE `quest_offer_reward` SET `RewardText`='It''s no use, $n!  They''re not letting up.', `VerifiedBuild`=25383 WHERE `ID`=14093; -- All Hell Breaks Loose
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14094; -- Salvage the Supplies
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14091; -- Something's Amiss
UPDATE `quest_offer_reward` SET `VerifiedBuild`=25383 WHERE `ID`=14078; -- Lockdown!

DELETE FROM `quest_poi_points` WHERE (`QuestID`=24675 AND `Idx1`=2 AND `Idx2`=0) OR (`QuestID`=14369 AND `Idx1`=1 AND `Idx2`=0) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=9) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=8) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=7) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=6) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=5) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=4) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=3) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=2) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=1) OR (`QuestID`=14369 AND `Idx1`=0 AND `Idx2`=0) OR (`QuestID`=14157 AND `Idx1`=0 AND `Idx2`=0) OR (`QuestID`=14098 AND `Idx1`=2 AND `Idx2`=0) OR (`QuestID`=31814 AND `Idx1`=2 AND `Idx2`=0) OR (`QuestID`=31814 AND `Idx1`=1 AND `Idx2`=0) OR (`QuestID`=31814 AND `Idx1`=0 AND `Idx2`=0);
INSERT INTO `quest_poi_points` (`QuestID`, `Idx1`, `Idx2`, `X`, `Y`, `VerifiedBuild`) VALUES
(24675, 2, 0, -1366, 1217, 25383), -- Last Meal
(14369, 1, 0, -1844, 2567, 25383), -- Unleash the Beast
(14369, 0, 9, -2211, 2475, 25383), -- Unleash the Beast
(14369, 0, 8, -2243, 2554, 25383), -- Unleash the Beast
(14369, 0, 7, -2115, 2683, 25383), -- Unleash the Beast
(14369, 0, 6, -2103, 2686, 25383), -- Unleash the Beast
(14369, 0, 5, -1958, 2711, 25383), -- Unleash the Beast
(14369, 0, 4, -1943, 2694, 25383), -- Unleash the Beast
(14369, 0, 3, -1933, 2563, 25383), -- Unleash the Beast
(14369, 0, 2, -1978, 2528, 25383), -- Unleash the Beast
(14369, 0, 1, -2058, 2470, 25383), -- Unleash the Beast
(14369, 0, 0, -2179, 2462, 25383), -- Unleash the Beast
(14157, 0, 0, -1749, 1426, 25383), -- Old Divisions
(14098, 2, 0, -1438, 1401, 25383), -- Evacuate the Merchant Square
(31814, 2, 0, -222, -3165, 25383), -- Analynn
(31814, 1, 0, 3537, 535, 25383), -- Analynn
(31814, 0, 0, 3537, 535, 25383); -- Analynn

UPDATE `quest_poi_points` SET `X`=-1673, `Y`=1345, `VerifiedBuild`=25383 WHERE (`QuestID`=14293 AND `Idx1`=1 AND `Idx2`=0); -- Save Krennan Aranas
UPDATE `quest_poi_points` SET `X`=-1786, `Y`=1438, `VerifiedBuild`=25383 WHERE (`QuestID`=14293 AND `Idx1`=0 AND `Idx2`=0); -- Save Krennan Aranas

DELETE FROM `quest_details` WHERE `ID` IN (24676 /*Push Them Out*/, 24674 /*Slaves to No One*/, 24675 /*Last Meal*/, 24575 /*Liberation Day*/, 24677 /*Flank the Forsaken*/, 24592 /*Betrayal at Tempest's Reach*/, 24672 /*Onwards and Upwards*/, 24673 /*Return to Stormglen*/, 24593 /*Neither Human Nor Beast*/, 24646 /*Take Back What's Ours*/, 24628 /*Preparations*/, 24627 /*At Our Doorstep*/, 24617 /*Tal'doren, the Wild Home*/, 24616 /*Losing Your Tail*/, 24578 /*The Blackwald*/, 24501 /*Queen-Sized Troubles*/, 24495 /*Pieces of the Past*/, 24484 /*Pest Control*/, 24483 /*Stormglen*/, 24472 /*Introductions Are in Order*/, 24468 /*Stranded at the Marsh*/, 24438 /*Exodus*/, 14466 /*The King's Observatory*/, 14465 /*To Greymane Manor*/, 14463 /*Horses for Duskhaven*/, 14405 /*Escape By Sea*/, 14402 /*Ready to Go*/, 14401 /*Grandma's Cat*/, 14400 /*I Can't Wear This*/, 14399 /*Grandma's Lost It Alright*/, 14412 /*Washed Up*/, 14404 /*Not Quite Shipshape*/, 14416 /*The Hungry Ettin*/, 14406 /*The Crowley Orchard*/, 14403 /*The Hayward Brothers*/, 14398 /*Grandma Wahl*/, 14397 /*Evacuation*/, 14395 /*Gasping for Breath*/, 14396 /*As the Land Shatters*/, 14386 /*Leader of the Pack*/, 14368 /*Save the Children!*/, 14382 /*Two By Sea*/, 14369 /*Unleash the Beast*/, 14367 /*The Allens' Storm Cellar*/, 14366 /*Holding Steady*/, 14347 /*Hold the Line*/, 14348 /*You Can't Take 'Em Alone*/, 14336 /*Kill or Be Killed*/, 14321 /*Invasion*/, 14320 /*In Need of Ingredients*/, 14313 /*Among Humans Again*/, 14222 /*Last Stand*/, 14221 /*Never Surrender, Sometimes Retreat*/, 14218 /*By Blood and Ash*/, 14212 /*Sacrifices*/, 14294 /*Time to Regroup*/, 14293 /*Save Krennan Aranas*/, 14214 /*Message to Greymane*/, 14204 /*From the Shadows*/, 14159 /*The Rebel Lord's Arsenal*/, 26129 /*Brothers In Arms*/, 14154 /*By the Skin of His Teeth*/, 28850 /*The Prison Rooftop*/, 24930 /*While You're At It*/, 14157 /*Old Divisions*/, 14286 /*Safety in Numbers*/, 14265 /*Your Instructor*/, 14099 /*Royal Orders*/, 14094 /*Salvage the Supplies*/, 14098 /*Evacuate the Merchant Square*/, 14093 /*All Hell Breaks Loose*/, 14091 /*Something's Amiss*/, 14078 /*Lockdown!*/);
INSERT INTO `quest_details` (`ID`, `Emote1`, `Emote2`, `Emote3`, `Emote4`, `EmoteDelay1`, `EmoteDelay2`, `EmoteDelay3`, `EmoteDelay4`, `VerifiedBuild`) VALUES
(24676, 1, 0, 0, 0, 0, 0, 0, 0, 25383), -- Push Them Out
(24674, 1, 0, 0, 0, 0, 0, 0, 0, 25383), -- Slaves to No One
(24675, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Last Meal
(24575, 1, 274, 0, 0, 0, 0, 0, 0, 25383), -- Liberation Day
(24677, 274, 0, 0, 0, 0, 0, 0, 0, 25383), -- Flank the Forsaken
(24592, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Betrayal at Tempest's Reach
(24672, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Onwards and Upwards
(24673, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Return to Stormglen
(24593, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Neither Human Nor Beast
(24646, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Take Back What's Ours
(24628, 1, 0, 0, 0, 0, 0, 0, 0, 25383), -- Preparations
(24627, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- At Our Doorstep
(24617, 25, 0, 0, 0, 0, 0, 0, 0, 25383), -- Tal'doren, the Wild Home
(24616, 1, 25, 0, 0, 0, 0, 0, 0, 25383), -- Losing Your Tail
(24578, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Blackwald
(24501, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Queen-Sized Troubles
(24495, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Pieces of the Past
(24484, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Pest Control
(24483, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Stormglen
(24472, 1, 6, 5, 0, 0, 0, 0, 0, 25383), -- Introductions Are in Order
(24468, 1, 25, 0, 0, 0, 0, 0, 0, 25383), -- Stranded at the Marsh
(24438, 1, 0, 0, 0, 0, 0, 0, 0, 25383), -- Exodus
(14466, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The King's Observatory
(14465, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- To Greymane Manor
(14463, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Horses for Duskhaven
(14405, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Escape By Sea
(14402, 1, 0, 0, 0, 0, 0, 0, 0, 25383), -- Ready to Go
(14401, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Grandma's Cat
(14400, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- I Can't Wear This
(14399, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Grandma's Lost It Alright
(14412, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Washed Up
(14404, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Not Quite Shipshape
(14416, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Hungry Ettin
(14406, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Crowley Orchard
(14403, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Hayward Brothers
(14398, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Grandma Wahl
(14397, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Evacuation
(14395, 25, 6, 1, 0, 0, 0, 0, 0, 25383), -- Gasping for Breath
(14396, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- As the Land Shatters
(14386, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Leader of the Pack
(14368, 18, 0, 0, 0, 0, 0, 0, 0, 25383), -- Save the Children!
(14382, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Two By Sea
(14369, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Unleash the Beast
(14367, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Allens' Storm Cellar
(14366, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Holding Steady
(14347, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Hold the Line
(14348, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- You Can't Take 'Em Alone
(14336, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Kill or Be Killed
(14321, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Invasion
(14320, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- In Need of Ingredients
(14313, 1, 5, 274, 0, 0, 0, 0, 0, 25383), -- Among Humans Again
(14222, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Last Stand
(14221, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Never Surrender, Sometimes Retreat
(14218, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- By Blood and Ash
(14212, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Sacrifices
(14294, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Time to Regroup
(14293, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Save Krennan Aranas
(14214, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Message to Greymane
(14204, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- From the Shadows
(14159, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Rebel Lord's Arsenal
(26129, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Brothers In Arms
(14154, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- By the Skin of His Teeth
(28850, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- The Prison Rooftop
(24930, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- While You're At It
(14157, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Old Divisions
(14286, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Safety in Numbers
(14265, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Your Instructor
(14099, 25, 0, 0, 0, 0, 0, 0, 0, 25383), -- Royal Orders
(14094, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Salvage the Supplies
(14098, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Evacuate the Merchant Square
(14093, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- All Hell Breaks Loose
(14091, 0, 0, 0, 0, 0, 0, 0, 0, 25383), -- Something's Amiss
(14078, 0, 0, 0, 0, 0, 0, 0, 0, 25383); -- Lockdown!

UPDATE `quest_request_items` SET `CompletionText`='Did you get what I needed, $n?', `VerifiedBuild`=25383 WHERE `ID`=24675; -- Last Meal
UPDATE `quest_request_items` SET `CompletionText`='Do you have the scythe, $n?', `VerifiedBuild`=25383 WHERE `ID`=24646; -- Take Back What's Ours
UPDATE `quest_request_items` SET `CompletionText`='You''ve returned, $n.', `VerifiedBuild`=25383 WHERE `ID`=24628; -- Preparations
UPDATE `quest_request_items` SET `CompletionText`='How did it go, $n?', `VerifiedBuild`=25383 WHERE `ID`=24472; -- Introductions Are in Order
UPDATE `quest_request_items` SET `CompletionText`='You''re such a charming young $gman:lady;, $n.', `VerifiedBuild`=25383 WHERE `ID`=14401; -- Grandma's Cat
UPDATE `quest_request_items` SET `CompletionText`='Do you have my supplies, $n?', `VerifiedBuild`=25383 WHERE `ID`=14404; -- Not Quite Shipshape
UPDATE `quest_request_items` SET `CompletionText`='Have you salvaged the supplies, $n?', `VerifiedBuild`=25383 WHERE `ID`=14094; -- Salvage the Supplies

UPDATE `creature_addon` SET `emote`= 333 WHERE `guid`= 376570;
UPDATE `creature` SET `MovementType`= 1, `spawndist`= 3 WHERE `guid` IN (376655, 376654, 376510);

UPDATE `creature_addon` SET `emote`= 27, `Auras`= '67503' WHERE `guid`= 376582;
UPDATE `creature_addon` SET `emote`= 375 WHERE `guid`= 376579;

-- Creature Lord Darius Crowley 35077 SAI
SET @ENTRY := 35077;
UPDATE `creature_template` SET `AIName`="SmartAI", `DamageModifier`= 3 WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 19, 0, 100, 0, 14154, 0, 0, 0, 11, 66914, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player accepts quest 14154 - Self: Cast spell 66914 on Action invoker // "),
(@ENTRY, 0, 1, 0, 37, 0, 100, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "On AI initialize - Self: Disable combat based movement // "),
(@ENTRY, 0, 2, 0, 0, 0, 100, 0, 6000, 6000, 15000, 17000, 11, 67825, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "When in combat and timer at the begining between 6000 and 6000 ms (and later repeats every 15000 and 17000 ms) - Self: Cast spell 67825 on Victim // ");

UPDATE `creature_template` SET `DamageModifier`= 3 WHERE `entry`= 35124;

DELETE FROM `spell_script_names` WHERE `ScriptName` IN 
('spell_gen_gilneas_prison_periodic_dummy');
 
INSERT INTO `spell_script_names` (`spell_id`, `ScriptName`) VALUES
(66853, 'spell_gen_gilneas_prison_periodic_dummy');

DELETE FROM `spell_target_position` WHERE `ID` IN (66925, 66836);
INSERT INTO `spell_target_position` (`ID`, `EffectIndex`, `MapID`, `PositionX`, `PositionY`, `PositionZ`) VALUES
(66925, 0, 654, -1636.292, 1481.836, 70.94804),
(66836, 0, 654, -1620.981, 1509.193, 67.10413);

UPDATE `creature_template` SET `scriptname`= 'npc_worgen_runt' WHERE `entry` IN (35456, 35188);

-- Creature Worgen Alpha 35167 SAI
SET @ENTRY := 35167;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Worgen Alpha - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Worgen Alpha - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 0, 54, 0, 100, 0, 0, 0, 0, 0, 69, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1639.317, 1491.14, 67.34758, 0, "On just summoned - Self: Move to None (point id 0) // ");

-- Creature Josiah Event Trigger 50415 SAI
SET @ENTRY := 50415;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 54, 0, 100, 0, 0, 0, 0, 0, 44, 171, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On just summoned - Self: Set phase id to 171 // "),
(@ENTRY, 0, 1, 0, 1, 0, 100, 1, 2000, 2000, 0, 0, 1, 0, 0, 0, 0, 0, 0, 23, 0, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 2000 and 2000 ms (and later repeats every 0 and 0 ms) - Owner/Summoner: Talk 0 // ");

DELETE FROM `creature_text` WHERE `CreatureID` IN (50415, 35911, 35552, 35551, 35753);
INSERT INTO `creature_text` (`CreatureID`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES
(50415, 0, 0, 'You''ve been bitten by a worgen.  It''s probably nothing, but it sure stings a little.$B$B|TInterface\\Icons\\INV_Misc_monsterfang_02.blp:32|t', 42, 0, 100, 0, 0, 0, 50192, 'Josiah Event Trigger to Player'),
(35911, 0, 0, 'If we can make it past the gates into Duskhaven we''ll be safe.  The eastern mountains are virtually impassable.', 12, 0, 100, 1, 0, 19696, 36107, 'King Genn Greymane to Player'),
(35911, 1, 0, 'We were fools to take up arms against each other, Darius.  The worgen would''ve never stood a chance.', 12, 0, 100, 1, 0, 19696, 36108, 'King Genn Greymane to Player'),

(35551, 0, 0, 'I''ll stay behind with the Royal Guard, father.  It is my duty to Gilneas.', 12, 0, 100, 1, 0, 19696, 36106, 'Prince Liam Greymane to Player'),
(35552, 0, 0, 'We need to keep the worgen''s attention in the city, Genn.  It''s the only shot we have for the survivors to make it to Duskhaven.', 12, 0, 100, 66, 0, 19696, 36103, 'Lord Darius Crowley to Player'),
(35552, 1, 0, 'Not a chance, boy.  Gilneas is going to need its king''s undivided attention.  Can''t have your father wondering whether his child is alive or not.', 12, 0, 100, 66, 0, 19696, 36104, 'Lord Darius Crowley to Player'),
(35552, 2, 0, 'My men and I will hole up inside the Light''s Dawn Cathedral.  I''ve already given the order and the cannons are on their way.  Lead our people well, Genn.', 12, 0, 100, 66, 0, 19696, 36105, 'Lord Darius Crowley to Player'),
(35753, 0, 0, 'Help!  Up here!', 14, 0, 100, 0, 0, 0, 46756, 'Krennan Aranas to Player');

UPDATE `creature_template` SET `scriptname`= 'npc_josiah_avery' WHERE `entry`= 35370;

DELETE FROM `conditions` WHERE `SourceEntry`= 67350 AND `SourceTypeOrReferenceId`= 13;
INSERT INTO conditions (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 1, 67350, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Summon Josiah - Target Lab Trigger'),
(13, 4, 67350, 0, 0, 31, 0, 3, 35374, 0, 0, 0, '', 'Summon Josiah - Target Lab Trigger');

UPDATE `creature_template` SET `InhabitType`= 1 | 8 WHERE `entry` IN (35907, 35504, 35509, 50474);

UPDATE `creature_addon` SET `emote`= 214 WHERE `guid` IN (376746, 376788, 376779, 376756, 376694, 376702, 376737, 376698, 376726, 376704, 376713);
UPDATE `creature_addon` SET `emote`= 333 WHERE `guid` IN (376711, 376790, 376757, 376703, 376698, 376695, 376736, 376768, 376716, 376754);

UPDATE `creature` SET `SpawnDist`= 5 WHERE `id`= 35229;

-- Creature Gilneas City Guard 35504 SAI
SET @ENTRY := 35504;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 0, 0, 100, 0, 0, 0, 2000, 2000, 11, 67595, 64, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "When in combat and timer at the begining between 0 and 0 ms (and later repeats every 2000 and 2000 ms) - Self: Cast spell 67595 on Victim // "),
(@ENTRY, 0, 1, 0, 1, 0, 100, 0, 2000, 2000, 2000, 2000, 49, 0, 0, 0, 0, 0, 0, 11, 35505, 20, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 2000 and 2000 ms (and later repeats every 2000 and 2000 ms) - Self: Attack Creature Bloodfang Ripper (35505) in 20 yd // ");

-- Creature Gilneas City Guard 50474 SAI
SET @ENTRY := 50474;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 1, 0, 100, 0, 0, 0, 2000, 2000, 49, 0, 0, 0, 0, 0, 0, 11, 50471, 10, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 0 and 0 ms (and later repeats every 2000 and 2000 ms) - Self: Attack Creature Afflicted Gilnean (50471) in 10 yd // ");

-- Creature Afflicted Gilnean 50474 SAI
SET @ENTRY := 50471;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 1, 0, 100, 0, 0, 0, 2000, 2000, 49, 0, 0, 0, 0, 0, 0, 11, 50474, 10, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 0 and 0 ms (and later repeats every 2000 and 2000 ms) - Self: Attack Creature Gilneas City Guard (50474) in 10 yd // ");

-- Creature King Genn Greymane 35911 SAI
SET @ENTRY := 35911;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 20, 0, 100, 0, 14294, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When player rewards quest 14294 - Self: Talk 0 // "),
(@ENTRY, 0, 1, 2, 61, 0, 100, 0, 0, 0, 0, 0, 80, 3555200, 0, 0, 0, 0, 0, 10, 377011, 0, 0, 0, 0, 0, 0, " Linked - Start timed action list id #3555200 // "),
(@ENTRY, 0, 2, 3, 61, 0, 100, 0, 0, 0, 0, 0, 80, 3591100, 0, 0, 0, 0, 0, 10, 377012, 0, 0, 0, 0, 0, 0, " Linked - Start timed action list id #3591100 // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 80, 3555100, 0, 0, 0, 0, 0, 10, 377026, 0, 0, 0, 0, 0, 0, " Linked - Start timed action list id #3555100 // ");

UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry` IN (35552, 35551);
DELETE FROM `smart_scripts` WHERE `entryorguid`=3555200 AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(3555200,9,0,0,0,0,100,0,8000,8000,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,"Lord Darius Crowley - Talk 0"),
(3555200,9,1,0,0,0,100,0,14000,14000,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,"Lord Darius Crowley - Talk 1"),
(3555200,9,2,0,0,0,100,0,9000,9000,0,0,1,2,0,0,0,0,0,1,0,0,0,0,0,0,0,"Lord Darius Crowley - Talk 2");

DELETE FROM `smart_scripts` WHERE `entryorguid`=3591100 AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(3591100,9,0,0,0,0,100,0,39000,39000,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,"King Genn Greymane - Talk 1");

DELETE FROM `smart_scripts` WHERE `entryorguid`=3555100 AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(3555100,9,0,0,0,0,100,0,16000,16000,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,"Prince Liam Greymane - Talk 0");

UPDATE `creature_template` SET `flags_extra`= `flags_extra` | 2 WHERE `entry` IN (35870, 35233, 35230);
UPDATE `creature_template` SET `VehicleID`= 463 WHERE `entry`= 35231;
UPDATE `creature_template` SET `VehicleID`= 470 WHERE `entry`= 35317;

UPDATE `creature` SET `spawntimesecs`= 5 WHERE `id`= 35229;

UPDATE `creature_template` SET `npcflag`= 16777216 WHERE `entry` IN (44427, 35231, 44428, 35317, 44429);
DELETE FROM `npc_spellclick_spells` WHERE `npc_entry` IN (44427, 35231, 44428, 35317, 44429);
INSERT INTO `npc_spellclick_spells` (`npc_entry`, `spell_id`, `cast_flags`, `user_type`) VALUES
(44427, 67001, 3, 0),
(44428, 46598, 3, 0),
(35231, 46598, 1, 0),
(44429, 82992, 3, 0),
(35317, 43671, 1, 0);

DELETE FROM `vehicle_template_accessory` WHERE `entry`= 35231;
INSERT INTO `vehicle_template_accessory` (`entry`, `accessory_entry`, `seat_id`, `minion`, `summontype`, `summontimer`, `description`) VALUES
(35231, 35230, 1, 1, 5, 0, 'Crowley''s Horse - Lord Darius Crowley');

DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId`= 18 AND `SourceGroup` IN (44427, 35317, 44428, 44429);
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `ConditionTypeOrReference`, `ConditionValue1`, `Comment`) VALUES
(18, 44427, 67001, 9, 14212, 'Required quest active for spellclick'),
(18, 44429, 82992, 9, 14212, 'Required quest active for spellclick'),
(18, 35317, 43671, 9, 14218, 'Required quest active for spellclick');

UPDATE `creature_template` SET `speed_run`= 1.28571, `ScriptName`= 'npc_crowleys_horse' WHERE `entry`= 35231;

SET @ID := 352310;
DELETE FROM `waypoint_data` WHERE `id`= @ID;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `move_type`) VALUES
(@ID, 1, -1686.12, 1655.639, 20.61058, 1),
(@ID, 2, -1668.156, 1639.432, 20.61058, 1),
(@ID, 3, -1666.63, 1628.859, 20.53271, 1),
(@ID, 4, -1670.76, 1617.431, 20.61058, 1),
(@ID, 5, -1693.648, 1592.639, 20.61058, 1),
(@ID, 6, -1708.017, 1590.55, 20.61042, 1),
(@ID, 7, -1719.366, 1595.649, 20.61042, 1),
(@ID, 8, -1720.566, 1610.141, 20.6074, 1),
(@ID, 9, -1711.898, 1629.703, 20.6074, 1),
(@ID, 10, -1698.149, 1656.483, 20.61058, 1),
(@ID, 11, -1696.424, 1682.012, 20.52616, 1),
(@ID, 12, -1684.675, 1700.12, 20.46484, 1),
(@ID, 13, -1658.309, 1710.313, 20.58983, 1),
(@ID, 14, -1625.477, 1712.299, 21.80511, 1),
(@ID, 15, -1592.095, 1710.71, 20.58986, 1);

SET @ID := 352311;
DELETE FROM `waypoint_data` WHERE `id`= @ID;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `move_type`) VALUES
(@ID, 1, -1545.082, 1684.233, 20.60992, 1),
(@ID, 2, -1542.793, 1656.083, 20.60992, 1),
(@ID, 3, -1542.998, 1640.535, 20.60992, 1),
(@ID, 4, -1520.733, 1618.097, 20.61054, 1),
(@ID, 5, -1498.792, 1621.738, 20.61054, 1),
(@ID, 6, -1468.356, 1630.78, 20.61054, 1),
(@ID, 7, -1441.646, 1627.67, 20.61054, 1),
(@ID, 8, -1429.844, 1616.627, 20.58984, 1),
(@ID, 9, -1417.991, 1586.554, 20.58984, 1),
(@ID, 10, -1429.177, 1548.783, 20.84849, 1),
(@ID, 11, -1447.417, 1532.79, 20.60095, 1),
(@ID, 12, -1463.104, 1535.031, 20.61054, 1),
(@ID, 13, -1483.035, 1544.151, 20.61054, 1),
(@ID, 14, -1505.156, 1568.611, 20.61053, 1),
(@ID, 15, -1531.599, 1581.872, 26.53872, 1),
(@ID, 16, -1540.594, 1574.429, 29.20671, 1);

SET @ID := 444280;
DELETE FROM `waypoint_data` WHERE `id`= @ID;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `move_type`) VALUES
(@ID, 1, -1512.36, 1570.78, 24.06706, 1),
(@ID, 2, -1498.715, 1565.426, 20.87811, 1),
(@ID, 3, -1487.863, 1557.163, 20.85, 1),
(@ID, 4, -1474.18, 1542.68, 20.61054, 1),
(@ID, 5, -1457.6, 1532.64, 20.60095, 1),
(@ID, 6, -1438.01, 1525.31, 20.87622, 1),
(@ID, 7, -1424.2, 1545.7, 20.46568, 1),
(@ID, 8, -1411.29, 1556.16, 20.55698, 1),
(@ID, 9, -1414.19, 1577.65, 20.58984, 1),
(@ID, 10, -1427.47, 1617.3, 20.58984, 1),
(@ID, 11, -1445.54, 1633.9, 20.61054, 1),
(@ID, 12, -1470.71, 1658.21, 20.61054, 1),
(@ID, 13, -1491.05, 1658.74, 20.61054, 1),
(@ID, 14, -1515.33, 1641.18, 20.60992, 1),
(@ID, 15, -1526.75, 1630.37, 20.61054, 1),
(@ID, 16, -1528.42, 1610.71, 20.61054, 1),
(@ID, 17, -1532.39, 1585.36, 26.53804, 1);


DELETE FROM `conditions` WHERE `SourceEntry`= 67063 AND `SourceTypeOrReferenceId`= 13;
INSERT INTO conditions (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 7, 67063, 0, 0, 31, 0, 3, 35229, 0, 0, 0, '', 'Throw Torch - Target Bloodfang Stalker');

DELETE FROM `creature_text` WHERE `CreatureID`= 35230;
INSERT INTO `creature_text` (`CreatureID`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES
(35230, 0, 0, 'Let''s round up as many of them as we can.  Every worgen chasing us is one less worgen chasing the survivors!', 12, 0, 100, 0, 0, 19696, 35498, 'Lord Darius Crowley to Player'),
(35230, 1, 0, 'You''ll never catch us, you blasted mongrels!', 14, 0, 100, 0, 0, 19696, 35497, 'Lord Darius Crowley to Player');

-- Creature Lord Darius Crowley 35230 SAI
SET @ENTRY := 35230;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 60, 0, 100, 1, 7000, 7000, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Every 0 and 0 ms (for the first time, timer between 7000 and 7000 ms) - Self: Talk 0 // "),
(@ENTRY, 0, 1, 0, 60, 0, 100, 1, 39000, 39000, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Every 0 and 0 ms (for the first time, timer between 39000 and 39000 ms) - Self: Talk 1 // ");

UPDATE `creature_template` SET `InhabitType`= 1 WHERE `entry`= 36057;

DELETE FROM `spell_script_names` WHERE `ScriptName` IN 
('spell_gen_throw_torch');
 
INSERT INTO `spell_script_names` (`spell_id`, `ScriptName`) VALUES
(67063, 'spell_gen_throw_torch');

UPDATE `creature_addon` SET `emote`= 385 WHERE `guid`= 377296;
UPDATE `creature_addon` SET `emote`= 214 WHERE `guid`= 377414;

DELETE FROM `creature` WHERE `guid` IN (377447, 377448);
DELETE FROM `creature_addon` WHERE `guid` IN (377447, 377448);

-- Creature Northgate Rebel 41015 SAI
SET @ENTRY := 41015;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 1, 0, 100, 0, 0, 0, 2000, 2000, 49, 0, 0, 0, 0, 0, 0, 11, 35627, 0, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 0 and 0 ms (and later repeats every 2000 and 2000 ms) - Self: Attack Creature Frenzied Stalker (35627) in 0 yd // ");

UPDATE `creature_template` SET `VehicleID`= 1025, `speed_run`= 1.28571, `spell1`= 67063, `ScriptName`= 'npc_crowleys_horse' WHERE `entry`= 44428;

-- Creature Lord Darius Crowley 35566 SAI
SET @ENTRY := 35566;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 20, 0, 100, 0, 14222, 0, 0, 0, 85, 98274, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "When player rewards quest 14222 - Invoker: Cast spell 98274 to Action invoker // "),
(@ENTRY, 0, 1, 2, 61, 0, 100, 0, 0, 0, 0, 0, 85, 68630, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, " Linked - Invoker: Cast spell 68630 to Action invoker // "),
(@ENTRY, 0, 2, 0, 61, 0, 100, 0, 0, 0, 0, 0, 85, 72788, 2, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, " Linked - Invoker: Cast spell 72788 to Action invoker // ");

-- Creature Celestine of the Harvest 35873 SAI
SET @ENTRY := 35873;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 25, 0, 100, 0, 0, 0, 0, 0, 11, 13236, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On reset (e.g. after reaching home) - Self: Cast spell 13236 on Self // ");

-- Creature Vitus Darkwalker 35869 SAI
SET @ENTRY := 35869;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 25, 0, 100, 0, 0, 0, 0, 0, 11, 45104, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On reset (e.g. after reaching home) - Self: Cast spell 45104 on Self // ");

-- Creature Bloodfang Lurker 35463 SAI
SET @ENTRY := 35463;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Bloodfang Lurker - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Bloodfang Lurker - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 3, 11, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On respawn  - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 3, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Respawn - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 4, 5, 7, 0, 100, 1, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On evade - Self: Set react state to REACT_PASSIVE // "),
(@ENTRY, 0, 5, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, 5916, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Cast spell 5916 on Self // Bloodfang Lurker - On Evade - Cast 'Shadowstalker Stealth' (No Repeat)"),
(@ENTRY, 0, 6, 0, 4, 0, 100, 0, 0, 0, 0, 0, 8, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On aggro - Self: Set react state to REACT_AGGRESSIVE // "),
(@ENTRY, 0, 7, 0, 8, 0, 100, 0, 67805, 0, 0, 0, 49, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "On spell 67805 hit  - Self: Attack Action invoker // ");

UPDATE `creature_addon` SET `auras`= '' WHERE `guid`= 376841;

-- Creature Celestine of the Harvest 44459 SAI
SET @ENTRY := 44459;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 25, 0, 100, 0, 0, 0, 0, 0, 11, 13236, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On reset (e.g. after reaching home) - Self: Cast spell 13236 on Self // ");

-- Creature Vitus Darkwalker 44469 SAI
SET @ENTRY := 44469;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 0, 25, 0, 100, 0, 0, 0, 0, 0, 11, 45104, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "On reset (e.g. after reaching home) - Self: Cast spell 45104 on Self // ");

UPDATE `creature_template` SET `InhabitType`= 8 WHERE `entry`= 44199;

-- Creature Rampaging Worgen 34884 SAI
SET @ENTRY := 34884;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`= @ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY, 0, 0, 1, 2, 0, 100, 1, 0, 30, 0, 0, 11, 8599, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "When health between 0% and 30% (check every 0 - 0 ms) - Self: Cast spell 8599 on Self // Rampaging Worgen - Between 0-30% Health - Cast 'Enrage' (No Repeat)"),
(@ENTRY, 0, 1, 0, 61, 0, 100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, " Linked - Self: Talk 0 // Rampaging Worgen - Between 0-30% Health - Say Line 0 (No Repeat)"),
(@ENTRY, 0, 2, 0, 1, 0, 100, 0, 0, 0, 3000, 3000, 49, 0, 0, 0, 0, 0, 0, 11, 34916, 15, 0, 0, 0, 0, 0, "When out of combat and timer at the begining between 0 and 0 ms (and later repeats every 3000 and 3000 ms) - Self: Attack Creature Gilneas City Guard (34916) in 15 yd // ");

DELETE FROM `spell_script_names` WHERE `ScriptName` IN (
'spell_q14098_knocking_67869');

INSERT INTO `spell_script_names` (`spell_id`, `ScriptName`) VALUES
(67869, 'spell_q14098_knocking_67869');

UPDATE `gameobject_template` SET `ScriptName` = 'go_merchant_square_door' WHERE `entry` = 195327;
UPDATE `gameobject_template` SET `Data0` = 1 WHERE `entry` = 195430;
UPDATE `gameobject` SET `PhaseGroup` = 507, `state` = 0 WHERE `id` = 195430;