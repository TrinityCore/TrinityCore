SET @CGUID := 396414;
SET @OGUID := 247794;

-- Gameobject templates
UPDATE `gameobject_template` SET `ContentTuningId`=425, `VerifiedBuild`=46366 WHERE `entry`=208116; -- Candy Bucket

UPDATE `gameobject_template_addon` SET `faction`=1732 WHERE `entry`=208116; -- Candy Bucket

-- Quests
DELETE FROM `quest_offer_reward` WHERE `ID`=28952;
INSERT INTO `quest_offer_reward` (`ID`, `Emote1`, `Emote2`, `Emote3`, `Emote4`, `EmoteDelay1`, `EmoteDelay2`, `EmoteDelay3`, `EmoteDelay4`, `RewardText`, `VerifiedBuild`) VALUES
(28952, 0, 0, 0, 0, 0, 0, 0, 0, 'Candy buckets like this are located in inns throughout the realms. Go ahead... take some!', 46366); -- Candy Bucket

DELETE FROM `gameobject_queststarter` WHERE `id`=208116;
INSERT INTO `gameobject_queststarter` (`id`, `quest`, `VerifiedBuild`) VALUES
(208116, 28952, 46366);

UPDATE `gameobject_questender` SET `VerifiedBuild`=46366 WHERE (`id`=208116 AND `quest`=28952);

DELETE FROM `game_event_gameobject_quest` WHERE `id`=208116;

-- Creature spawns
DELETE FROM `creature` WHERE `guid`=@CGUID+0;
INSERT INTO `creature` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnDifficulties`, `PhaseId`, `PhaseGroup`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `wander_distance`, `currentwaypoint`, `curhealth`, `curmana`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`, `VerifiedBuild`) VALUES
(@CGUID+0, 22816, 1, 357, 5024, '0', 0, 0, 0, 0, -3147.169921875, 1888.8602294921875, 41.98286819458007812, 3.564326763153076171, 120, 10, 0, 188, 0, 1, 0, 0, 0, 46366); -- Black Cat (Area: Dreamer's Rest - Difficulty: 0)

-- Old gameobject spawns
DELETE FROM `gameobject` WHERE `guid` BETWEEN 227517 AND 227541;
DELETE FROM `game_event_gameobject` WHERE `guid` BETWEEN 227517 AND 227541;

-- Gameobject spawns
DELETE FROM `gameobject` WHERE `guid` BETWEEN @OGUID+0 AND @OGUID+25;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnDifficulties`, `PhaseId`, `PhaseGroup`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`, `VerifiedBuild`) VALUES
(@OGUID+0, 180405, 1, 357, 5024, '0', 0, 0, -3170.104248046875, 1924.513916015625, 45.38033676147460937, 1.029743075370788574, 0, 0, 0.492423057556152343, 0.870355963706970214, 120, 255, 1, 46366), -- G_Pumpkin_01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+1, 180405, 1, 357, 5024, '0', 0, 0, -3147.42529296875, 1943.9896240234375, 42.31151199340820312, 2.879789113998413085, 0, 0, 0.991444587707519531, 0.130528271198272705, 120, 255, 1, 46366), -- G_Pumpkin_01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+2, 180406, 1, 357, 5024, '0', 0, 0, -3160.413330078125, 1904.9566650390625, 45.49956130981445312, 3.769911527633666992, 0, 0, -0.95105648040771484, 0.309017121791839599, 120, 255, 1, 46366), -- G_Pumpkin_02 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+3, 180407, 1, 357, 5024, '0', 0, 0, -3153.8056640625, 1919.3524169921875, 45.37310409545898437, 5.288348197937011718, 0, 0, -0.4771585464477539, 0.878817260265350341, 120, 255, 1, 46366), -- G_Pumpkin_03 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+4, 180407, 1, 357, 5024, '0', 0, 0, -3174.65966796875, 1911.4774169921875, 45.38034439086914062, 2.356194972991943359, 0, 0, 0.923879623413085937, 0.382683247327804565, 120, 255, 1, 46366), -- G_Pumpkin_03 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+5, 180408, 1, 357, 5024, '0', 0, 0, -3151.109375, 1925.923583984375, 48.33165359497070312, 2.809975385665893554, 0, 0, 0.986285209655761718, 0.165049895644187927, 120, 255, 1, 46366), -- G_WitchHat_01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+6, 180408, 1, 357, 5024, '0', 0, 0, -3158.53125, 1931.4896240234375, 48.53600311279296875, 1.518436193466186523, 0, 0, 0.6883544921875, 0.725374460220336914, 120, 255, 1, 46366), -- G_WitchHat_01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+7, 180415, 1, 357, 5024, '0', 0, 0, -3175.892333984375, 1880.3819580078125, 46.98336029052734375, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+8, 180415, 1, 357, 5024, '0', 0, 0, -3184.838623046875, 1884.3194580078125, 47.96312332153320312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+9, 180415, 1, 357, 5024, '0', 0, 0, -3188.053955078125, 1880.8853759765625, 48.4252471923828125, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+10, 180415, 1, 357, 5024, '0', 0, 0, -3179.022705078125, 1879.84375, 47.74272537231445312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+11, 180415, 1, 357, 5024, '0', 0, 0, -3180.866455078125, 1878.373291015625, 48.20755767822265625, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+12, 180415, 1, 357, 5024, '0', 0, 0, -3185.98779296875, 1879.8021240234375, 48.4252471923828125, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+13, 180415, 1, 357, 5024, '0', 0, 0, -3187.645751953125, 1884.8629150390625, 48.33615875244140625, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+14, 180415, 1, 357, 5024, '0', 0, 0, -3190.59375, 1885.513916015625, 48.90917205810546875, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+15, 180415, 1, 357, 5024, '0', 0, 0, -3193.39404296875, 1890.9305419921875, 50.51607131958007812, 2.356194972991943359, 0, 0, 0.923879623413085937, 0.382683247327804565, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+16, 180415, 1, 357, 5024, '0', 0, 0, -3194.835205078125, 1891.8819580078125, 50.68331146240234375, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+17, 180415, 1, 357, 5024, '0', 0, 0, -3193.578125, 1891.1822509765625, 50.51610946655273437, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+18, 180415, 1, 357, 5024, '0', 0, 0, -3190.802001953125, 1881.4010009765625, 48.71342849731445312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- CandleBlack01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+19, 180425, 1, 357, 5024, '0', 0, 0, -3199.4931640625, 1897.8663330078125, 51.62615966796875, 0.663223206996917724, 0, 0, 0.325567245483398437, 0.945518851280212402, 120, 255, 1, 46366), -- SkullCandle01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+20, 180426, 1, 357, 5024, '0', 0, 0, -3147.08154296875, 1927.532958984375, 44.22612380981445312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- Bat01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+21, 180426, 1, 357, 5024, '0', 0, 0, -3201.84716796875, 1897.6302490234375, 49.33378982543945312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- Bat01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+22, 180426, 1, 357, 5024, '0', 0, 0, -3201.147705078125, 1890.095458984375, 56.04289627075195312, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- Bat01 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+23, 180427, 1, 357, 5024, '0', 0, 0, -3189.579833984375, 1892.361083984375, 57.13821029663085937, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- Bat02 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+24, 180427, 1, 357, 5024, '0', 0, 0, -3141.46875, 1940.5972900390625, 41.66498565673828125, 1.780233979225158691, 0, 0, 0.7771453857421875, 0.629321098327636718, 120, 255, 1, 46366), -- Bat02 (Area: Dreamer's Rest - Difficulty: 0)
(@OGUID+25, 208116, 1, 357, 5024, '0', 0, 0, -3192.08154296875, 1892.1614990234375, 49.33295822143554687, 2.408554315567016601, 0, 0, 0.933580398559570312, 0.358368009328842163, 120, 255, 1, 46366); -- Candy Bucket (Area: Dreamer's Rest - Difficulty: 0)

-- Event spawns
DELETE FROM `game_event_creature` WHERE `eventEntry`=12 AND `guid`=@CGUID+0;
INSERT INTO `game_event_creature` (`eventEntry`, `guid`) VALUES
(12, @CGUID+0);

DELETE FROM `game_event_gameobject` WHERE `eventEntry`=12 AND `guid` BETWEEN @OGUID+0 AND @OGUID+25;
INSERT INTO `game_event_gameobject` (`eventEntry`, `guid`) VALUES
(12, @OGUID+0),
(12, @OGUID+1),
(12, @OGUID+2),
(12, @OGUID+3),
(12, @OGUID+4),
(12, @OGUID+5),
(12, @OGUID+6),
(12, @OGUID+7),
(12, @OGUID+8),
(12, @OGUID+9),
(12, @OGUID+10),
(12, @OGUID+11),
(12, @OGUID+12),
(12, @OGUID+13),
(12, @OGUID+14),
(12, @OGUID+15),
(12, @OGUID+16),
(12, @OGUID+17),
(12, @OGUID+18),
(12, @OGUID+19),
(12, @OGUID+20),
(12, @OGUID+21),
(12, @OGUID+22),
(12, @OGUID+23),
(12, @OGUID+24),
(12, @OGUID+25);
