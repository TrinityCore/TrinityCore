-- Add missing spawns and pooling for Tattered Chest ID: 2846 in Bloodmyst Isle
SET @POOLID := 850; -- 6 required
SET @OGUID := 23273; -- 28 required

DELETE FROM `gameobject` WHERE `guid` BETWEEN @OGUID+0 AND @OGUID+27;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnMask`, `PhaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`, `VerifiedBuild`) VALUES
(@OGUID+0, 2846, 530, 3525, 3585, 1, 1, -1806.03857421875, -11684.298828125, 33.98169326782226562, 3.926995515823364257, 0, 0, -0.92387866973876953, 0.38268551230430603, 360, 255, 1, 46158), -- Bladewood
(@OGUID+1, 2846, 530, 3525, 3585, 1, 1, -1713.0931396484375, -11621.1533203125, 34.2453765869140625, 4.363324165344238281, 0, 0, -0.81915187835693359, 0.573576688766479492, 360, 255, 1, 46158), -- Bladewood
(@OGUID+2, 2846, 530, 3525, 3585, 1, 1, -1814.4840087890625, -11553.1123046875, 34.16876983642578125, 4.1538848876953125, 0, 0, -0.8746194839477539, 0.484810054302215576, 360, 255, 1, 46368), -- Bladewood
(@OGUID+3, 2846, 530, 3525, 3687, 1, 1, -1136.5537109375, -11840.462890625, -1.63031005859375, 2.164205789566040039, 0, 0, 0.882946968078613281, 0.469472706317901611, 360, 255, 1, 46158), -- The Warp Piston
(@OGUID+4, 2846, 530, 3525, 3590, 1, 1, -2257.208251953125, -12322.2861328125, 57.29496383666992187, 2.565631866455078125, 0, 0, 0.958819389343261718, 0.284016460180282592, 360, 255, 1, 46368), -- Wrathscale Lair
(@OGUID+5, 2846, 530, 3525, 3590, 1, 1, -2187.5908203125, -12299.380859375, 56.221343994140625, 3.45575571060180664, 0, 0, -0.98768806457519531, 0.156436234712600708, 360, 255, 1, 46158), -- Wrathscale Lair
(@OGUID+6, 2846, 530, 3525, 3591, 1, 1, -1796.316162109375, -12065.8564453125, 31.659881591796875, 1.972219824790954589, 0, 0, 0.83388519287109375, 0.55193793773651123, 360, 255, 1, 46368), -- Ruins of Loreth'Anan
(@OGUID+7, 2846, 530, 3525, 3591, 1, 1, -1845.208984375, -12093.4248046875, 33.01601409912109375, 1.012289404869079589, 0, 0, 0.484808921813964843, 0.87462007999420166, 360, 255, 1, 46368), -- Ruins of Loreth'Anan
(@OGUID+8, 2846, 530, 3525, 3592, 1, 1, -2422.167236328125, -11318.396484375, 29.50377082824707031, 5.84685373306274414, 0, 0, -0.21643924713134765, 0.976296067237854003, 360, 255, 1, 46158), -- Nazzivian
(@OGUID+9, 2846, 530, 3525, 3592, 1, 1, -2514.785888671875, -11127.396484375, 16.80916213989257812, 3.961898565292358398, 0, 0, -0.91705989837646484, 0.398749500513076782, 360, 255, 1, 46158), -- Nazzivian
(@OGUID+10, 2846, 530, 3525, 3592, 1, 1, -2508.1875, -11249.017578125, 36.19548416137695312, 5.550147056579589843, 0, 0, -0.358367919921875, 0.933580458164215087, 360, 255, 1, 46158), -- Nazzivian
(@OGUID+11, 2846, 530, 3525, 3592, 1, 1, -2415.964111328125, -11222.4111328125, 24.28668212890625, 2.72271275520324707, 0, 0, 0.978147506713867187, 0.207912087440490722, 360, 255, 1, 46368), -- Nazzivian
(@OGUID+12, 2846, 530, 3525, 3592, 1, 1, -2315.081787109375, -11191.0302734375, 13.94209861755371093, 1.902408957481384277, 0, 0, 0.814115524291992187, 0.580702960491180419, 360, 255, 1, 46368), -- Nazzivian
(@OGUID+13, 2846, 530, 3525, 3594, 1, 1, -2816.5537109375, -11721.001953125, 0.128297999501228332, 0.698131442070007324, 0, 0, 0.342020034790039062, 0.939692676067352294, 360, 255, 1, 46158), -- Blackslit Shore
(@OGUID+14, 2846, 530, 3525, 3594, 1, 1, -2816.791748046875, -11521.4580078125, 3.551013946533203125, 6.09120035171508789, 0, 0, -0.09584522247314453, 0.995396256446838378, 360, 255, 1, 46368), -- Blackslit Shore
(@OGUID+15, 2846, 530, 3525, 3594, 1, 1, -2816.641845703125, -11219.6904296875, 2.085382938385009765, 1.32644820213317871, 0, 0, 0.615660667419433593, 0.788011372089385986, 360, 255, 1, 46158), -- Blackslit Shore
(@OGUID+16, 2846, 530, 3525, 3594, 1, 1, -2820.947509765625, -11420.7392578125, 5.266423225402832031, 3.892086982727050781, 0, 0, -0.93041706085205078, 0.366502493619918823, 360, 255, 1, 46368), -- Blackslit Shore
(@OGUID+17, 2846, 530, 3525, 3600, 1, 1, -2395.802001953125, -12166.826171875, 32.98817825317382812, 5.270895957946777343, 0, 0, -0.48480892181396484, 0.87462007999420166, 360, 255, 1, 46158), -- Bristlelimb Enclave
(@OGUID+18, 2846, 530, 3525, 3600, 1, 1, -2513.0068359375, -12197.3330078125, 27.98298072814941406, 1.762782454490661621, 0, 0, 0.771624565124511718, 0.636078238487243652, 360, 255, 1, 46158), -- Bristlelimb Enclave
(@OGUID+19, 2846, 530, 3525, 3600, 1, 1, -2537.432373046875, -12280.47265625, 14.01218223571777343, 3.647741317749023437, 0, 0, -0.96814727783203125, 0.250381410121917724, 360, 255, 1, 46158), -- Bristlelimb Enclave
(@OGUID+20, 2846, 530, 3525, 3601, 1, 1, -1453.5301513671875, -11844.0322265625, 19.05023574829101562, 3.036838293075561523, 0, 0, 0.998628616333007812, 0.052353221923112869, 360, 255, 1, 46158), -- Ragefeather Ridge
(@OGUID+21, 2846, 530, 3525, 3601, 1, 1, -1517.6060791015625, -12025.7939453125, 10.71734142303466796, 4.276057243347167968, 0, 0, -0.84339141845703125, 0.537299633026123046, 360, 255, 1, 46158), -- Ragefeather Ridge
(@OGUID+22, 2846, 530, 3525, 3601, 1, 1, -1523.1407470703125, -11818.052734375, 23.21690177917480468, 0.27925160527229309, 0, 0, 0.139172554016113281, 0.990268170833587646, 360, 255, 1, 46368), -- Ragefeather Ridge
(@OGUID+23, 2846, 530, 3525, 3601, 1, 1, -1485.6785888671875, -11930.548828125, 19.05023574829101562, 3.211419343948364257, 0, 0, -0.9993906021118164, 0.034906134009361267, 360, 255, 1, 46368), -- Ragefeather Ridge
(@OGUID+24, 2846, 530, 3525, 3601, 1, 1, -1681.670166015625, -11801.6201171875, 22.05923652648925781, 4.712389945983886718, 0, 0, -0.70710659027099609, 0.707106947898864746, 360, 255, 1, 46158), -- Ragefeather Ridge
(@OGUID+25, 2846, 530, 3525, 3601, 1, 1, -1622.558349609375, -11917.3193359375, 9.328012466430664062, 4.45059061050415039, 0, 0, -0.79335308074951171, 0.608761727809906005, 360, 255, 1, 46368), -- Ragefeather Ridge
(@OGUID+26, 2846, 530, 3525, 3909, 1, 1, -2532.938232421875, -11961.8232421875, 20.45257759094238281, 0, 0, 0, 0, 1, 360, 255, 1, 46158), -- The Lost Fold
(@OGUID+27, 2846, 530, 3525, 3910, 1, 1, -2441.07373046875, -11773.0068359375, 14.12316417694091796, 5.375615119934082031, 0, 0, -0.4383707046508789, 0.898794233798980712, 360, 255, 1, 46368); -- Middenvale

DELETE FROM `pool_template` WHERE `entry` BETWEEN @POOLID AND @POOLID+5;
INSERT INTO `pool_template` (`entry`,`max_limit`,`description`) VALUES
(@POOLID,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Bladewood'),
(@POOLID+1,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Wrathscale'),
(@POOLID+2,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Nazzivian'),
(@POOLID+3,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Blackslit'),
(@POOLID+4,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Bristlelimb'),
(@POOLID+5,1,'Tattered Chest (2846), Bloodmyst Isle, Chest Pool Ragefeather');

DELETE FROM `pool_members` WHERE `poolSpawnId` BETWEEN @POOLID AND @POOLID+5;
INSERT INTO `pool_members` (`type`,`spawnId`,`poolSpawnId`,`chance`,`description`) VALUES
(1,@OGUID,@POOLID,0,'Tattered Chest (2846), Bladewood'),
(1,@OGUID+1,@POOLID,0,'Tattered Chest (2846), Bladewood'),
(1,@OGUID+2,@POOLID,0,'Tattered Chest (2846), Bladewood'),
(1,@OGUID+3,@POOLID,0,'Tattered Chest (2846), The Warp Piston'),
(1,@OGUID+27,@POOLID,0,'Tattered Chest (2846), Middenvale'),
(1,@OGUID+4,@POOLID+1,0,'Tattered Chest (2846), Wrathscale Lair'),
(1,@OGUID+5,@POOLID+1,0,'Tattered Chest (2846), Wrathscale Lair'),
(1,@OGUID+6,@POOLID+1,0,'Tattered Chest (2846), Ruins of Loreth''Anan'),
(1,@OGUID+7,@POOLID+1,0,'Tattered Chest (2846), Ruins of Loreth''Anan'),
(1,@OGUID+8,@POOLID+2,0,'Tattered Chest (2846), Nazzivian'),
(1,@OGUID+9,@POOLID+2,0,'Tattered Chest (2846), Nazzivian'),
(1,@OGUID+10,@POOLID+2,0,'Tattered Chest (2846), Nazzivian'),
(1,@OGUID+11,@POOLID+2,0,'Tattered Chest (2846), Nazzivian'),
(1,@OGUID+12,@POOLID+2,0,'Tattered Chest (2846), Nazzivian'),
(1,@OGUID+13,@POOLID+3,0,'Tattered Chest (2846), Blackslit Shore'),
(1,@OGUID+14,@POOLID+3,0,'Tattered Chest (2846), Blackslit Shore'),
(1,@OGUID+15,@POOLID+3,0,'Tattered Chest (2846), Blackslit Shore'),
(1,@OGUID+16,@POOLID+3,0,'Tattered Chest (2846), Blackslit Shore'),
(1,@OGUID+17,@POOLID+4,0,'Tattered Chest (2846), Bristlelimb Enclave'),
(1,@OGUID+18,@POOLID+4,0,'Tattered Chest (2846), Bristlelimb Enclave'),
(1,@OGUID+19,@POOLID+4,0,'Tattered Chest (2846), Bristlelimb Enclave'),
(1,@OGUID+26,@POOLID+4,0,'Tattered Chest (2846), The Lost Fold'),
(1,@OGUID+20,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge'),
(1,@OGUID+21,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge'),
(1,@OGUID+22,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge'),
(1,@OGUID+23,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge'),
(1,@OGUID+24,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge'),
(1,@OGUID+25,@POOLID+5,0,'Tattered Chest (2846), Ragefeather Ridge');
