-- Remove an already spawned Luanga that should not be there
DELETE FROM `creature` WHERE `guid`=85531 AND `id`=18533;
DELETE FROM   `spawn_group` WHERE `GroupID`=2 AND `SpawnId`=85531 AND `spawnType`=0;
-- Skywing
DELETE FROM `creature_text` WHERE `CreatureID` IN (22424,18533);
INSERT INTO `creature_text` (`CreatureID`, `GroupID`, `ID`, `Text`, `Type`, `Language`, `Probability`, `Emote`, `Duration`, `Sound`, `BroadcastTextId`, `TextRange`, `comment`) VALUES
(22424,0,0,"%s squawks and heads toward Veil Shalas. Hurry and follow!",16,0,100,0,0,0,20254,0,"Skywing"),
(22424,1,0,"%s pauses briefly before the tree and then heads inside.",16,0,100,0,0,0,20255,0,"Skywing"),
(22424,2,0,"%s seems to be looking for something. He wants you to follow.",16,0,100,0,0,0,20256,0,"Skywing"),
(22424,3,0,"%s flies to the platform below! You''d better jump if you want to keep up. Hurry!",16,0,100,0,0,0,20257,0,"Skywing"),
(22424,4,0,"%s bellows a loud squawk!",16,0,100,0,0,0,20284,0,"Skywing"),
(22424,5,0,"Free at last from that horrible curse! Thank you! Please send word to Rilak the Redeemed that I am okay. My mission lies in Skettis. Terokk must be defeated!",12,0,100,0,0,0,20295,0,"Skywing"),
(22424,6,0,"%s wanders off into the distance.",16,0,100,0,0,0,20297,0,"Skywing"),
(18533,0,0,"Skywing, I will free you from your curse over my dead body!",14,0,100,0,0,0,20283,0,"Luanga the Imprisoner");

UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`="", `flags_extra`=`flags_extra`|536870912 WHERE `entry` IN (22424);
UPDATE `creature_template` SET `AIName`="SmartAI", `ScriptName`="" WHERE `entry` IN (22424,18533);
DELETE FROM `smart_scripts` WHERE `entryorguid` IN (22424,18533) AND `source_type`=0;
DELETE FROM `smart_scripts` WHERE `entryorguid` IN (2242400,2242401,2242402,2242403,2242404,2242405) AND `source_type`=9;
INSERT INTO `smart_scripts` (`entryorguid`,`source_type`,`id`,`link`,`event_type`,`event_phase_mask`,`event_chance`,`event_flags`,`event_param1`,`event_param2`,`event_param3`,`event_param4`,`event_param5`,`action_type`,`action_param1`,`action_param2`,`action_param3`,`action_param4`,`action_param5`,`action_param6`,`target_type`,`target_param1`,`target_param2`,`target_param3`,`target_x`,`target_y`,`target_z`,`target_o`,`comment`) VALUES
(22424,0,0,0,19,0,100,0,10898,0,0,0,0,80,2242400,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Quest 'Skywing' Taken - Run Script"),
(22424,0,1,0,6,0,100,0,0,0,0,0,0,6,10898,0,0,0,0,0,12,1,0,0,0,0,0,0,"Skywing - On Just Died - Fail Quest 'Skywing'"),
(22424,0,2,0,40,0,100,0,6,22424,0,0,0,80,2242401,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 6 Reached - Run Script"),
(22424,0,3,0,40,0,100,0,36,22424,0,0,0,80,2242402,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 36 Reached - Run Script"),
(22424,0,4,0,40,0,100,0,50,22424,0,0,0,54,5000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 50 Reached - Run Script"),
(22424,0,5,0,40,0,100,0,60,22424,0,0,0,80,2242403,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 60 Reached - Run Script"),
(22424,0,6,0,40,0,100,0,62,22424,0,0,0,54,5000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 62 Reached - Run Script"),
(22424,0,7,0,40,0,100,0,80,22424,0,0,0,80,2242404,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 80 Reached - Run Script"),
(22424,0,8,0,38,0,100,1,1,1,0,0,0,80,2242405,2,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Data set - Run Script"),
(22424,0,9,0,40,0,100,0,82,22424,0,0,0,41,0,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 82 Reached - Despawn"),
(22424,0,10,0,40,0,100,0,81,22424,0,0,0,54,17000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Waypoint 81 Reached - pause wp"),
(2242400,9,0,0,0,0,100,0,0,0,0,0,0,64,1,0,0,0,0,0,7,0,0,0,0,0,0,0,"Skywing - On Script - Store Targetlist"),
(2242400,9,1,0,0,0,100,0,0,0,0,0,0,2,250,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Set Faction 250"),
(2242400,9,2,0,0,0,100,0,0,0,0,0,0,83,2,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Remove Npc Flag Questgiver"),
(2242400,9,3,0,0,0,100,0,1000,1000,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Say Line 0"),
(2242400,9,4,0,0,0,100,0,0,0,0,0,0,53,1,22424,0,0,0,2,1,0,0,0,0,0,0,0,"Skywing - On Script - Start Waypoint"),
(2242401,9,0,0,0,0,100,0,0,0,0,0,0,54,6000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Pause Waypoint"),
(2242401,9,1,0,0,0,100,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Say Line 1"),
(2242402,9,0,0,0,0,100,0,0,0,0,0,0,54,6000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Pause Waypoint"),
(2242402,9,1,0,0,0,100,0,0,0,0,0,0,1,2,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Say Line 2"),
(2242403,9,0,0,0,0,100,0,0,0,0,0,0,54,500,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Pause Waypoint"),
(2242403,9,1,0,0,0,100,0,0,0,0,0,0,1,3,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Say Line 3"),
(2242404,9,0,0,0,0,100,0,0,0,0,0,0,54,6000,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Pause Waypoint"),
(2242404,9,1,0,0,0,100,0,0,0,0,0,0,1,4,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Say Line 4"),
(2242404,9,2,0,0,0,100,0,2000,2000,0,0,0,12,18533,4,300000,0,0,0,8,0,0,0,-3509.28003,4085.30273,92.9490,5.24017,"Skywing - On Script - Summon Luanga"),
(2242404,9,3,0,0,0,100,0,1000,1000,0,0,0,1,0,0,0,0,0,0,19,18533,0,0,0,0,0,0,"Skywing - On Script - Say Line 0 (Luanga the Imprisoner)"),
(2242405,9,0,0,0,0,100,0,2000,2000,0,0,0,2,35,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - Set faction"),
(2242405,9,1,0,0,0,100,0,1000,1000,0,0,0,75,39167,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - add aura Serverside - Cyclone of Feathers"), 
(2242405,9,2,0,0,0,100,0,4000,4000,0,0,0,11,39179,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - cast Rilak the Redeemed"), 
(2242405,9,3,0,0,0,100,0,2000,2000,0,0,0,1,5,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - say text"), 
(2242405,9,4,0,0,0,100,0,0,0,0,0,0,15,10898,0,0,0,0,0,12,1,0,0,0,0,0,0,"Skywing - On Script - Quest explored"), 
(2242405,9,5,0,0,0,100,0,10000,10000,0,0,0,1,6,0,0,0,0,0,1,0,0,0,0,0,0,0,"Skywing - On Script - say text"),
-- Luanga the Imprisoner
(18533,0,0,0,4,0,100,1,0,0,0,0,0,11,32924,0,0,0,0,0,1,0,0,0,0,0,0,0,'Luanga the Imprisoner - Cast Power of Kran\'aish on Aggro'),
(18533,0,1,0,0,0,100,0,1000,3000,40000,45000,0,11,6535,0,0,0,0,0,4,0,0,0,0,0,0,0,'Luanga the Imprisoner - Cast Lightning Cloud'),
(18533,0,2,0,0,0,100,0,9000,11000,9000,12000,0,11,11824,0,0,0,0,0,2,0,0,0,0,0,0,0,'Luanga the Imprisoner - Cast Shock'),
(18533,0,3,0,0,0,100,0,4000,9000,9000,14000,0,11,12058,0,0,0,0,0,4,0,0,0,0,0,0,0,'Luanga the Imprisoner - Cast Chain Lightning'),
(18533,0,4,0,6,0,100,0,0,0,0,0,0,45,1,1,0,0,0,0,19,22424,70,0,0,0,0,0,"Skywing - On Just Died - Set data");

DELETE FROM `script_waypoint` WHERE `entry`=22424;
DELETE FROM `waypoints` WHERE `entry`=22424;
INSERT INTO `waypoints` (`entry`,`pointid`,`position_x`,`position_y`,`position_z`,`point_comment`) VALUES
(22424, 1, -3620.54, 4164.57, 1.81,'SKYWING_START'),
(22424, 2, -3624.78, 4149.65, 7.44,''),
(22424, 3, -3630.3, 4124.84, 21.28,''),
(22424, 4, -3629.14, 4093.65, 44.35,''),
(22424, 5, -3626.34, 4080.29, 52.39,''),
(22424, 6, -3619.35, 4063.86, 60.86,'SAY_SKYWING_TREE_DOWN'),
(22424, 7, -3615.09, 4054.17, 62.46,''),
(22424, 8, -3611.39, 4046.6, 65.07,''),
(22424, 9, -3606.68, 4040.5, 66,''),
(22424, 10, -3600.88, 4038.69, 67.14,''),
(22424, 11, -3597.88, 4033.84, 68.53,''),
(22424, 12, -3602.19, 4027.89, 69.36,''),
(22424, 13, -3609.85, 4028.37, 70.78,''),
(22424, 14, -3613.01, 4031.1, 72.14,''),
(22424, 15, -3613.18, 4035.63, 73.52,''),
(22424, 16, -3609.84, 4039.73, 75.25,''),
(22424, 17, -3604.55, 4040.12, 77.01,''),
(22424, 18, -3600.61, 4036.03, 78.84,''),
(22424, 19, -3602.63, 4029.99, 81.01,''),
(22424, 20, -3608.87, 4028.64, 83.27,''),
(22424, 21, -3612.53, 4032.74, 85.24,''),
(22424, 22, -3611.08, 4038.13, 87.31,''),
(22424, 23, -3605.09, 4039.35, 89.55,''),
(22424, 24, -3601.87, 4035.44, 91.64,''),
(22424, 25, -3603.08, 4030.58, 93.66,''),
(22424, 26, -3608.47, 4029.23, 95.91,''),
(22424, 27, -3611.68, 4033.35, 98.09,''),
(22424, 28, -3609.51, 4038.25, 100.45,''),
(22424, 29, -3604.54, 4038.01, 102.72,''),
(22424, 30, -3602.4, 4033.48, 105.12,''),
(22424, 31, -3606.17, 4029.69, 107.63,''),
(22424, 32, -3609.93, 4031.26, 109.53,''),
(22424, 33, -3609.38, 4035.86, 110.67,''),
(22424, 34, -3603.58, 4043.03, 112.89,''),
(22424, 35, -3600.99, 4046.49, 111.81,''),
(22424, 36, -3602.32, 4051.77, 111.81,'SAY_SKYWING_TREE_UP'),
(22424, 37, -3609.55, 4055.95, 112,''),
(22424, 38, -3620.93, 4043.77, 111.99,''),
(22424, 39, -3622.44, 4038.95, 111.99,''),
(22424, 40, -3621.64, 4025.39, 111.99,''),
(22424, 41, -3609.62, 4015.2, 111.99,''),
(22424, 42, -3598.37, 4017.72, 111.99,''),
(22424, 43, -3590.21, 4026.62, 111.99,''),
(22424, 44, -3586.55, 4034.13, 112,''),
(22424, 45, -3580.39, 4033.46, 112,''),
(22424, 46, -3568.83, 4032.53, 107.16,''),
(22424, 47, -3554.81, 4031.23, 105.31,''),
(22424, 48, -3544.39, 4030.1, 106.58,''),
(22424, 49, -3531.91, 4029.25, 111.7,''),
(22424, 50, -3523.5, 4030.24, 112.47,''),
(22424, 51, -3517.48, 4037.42, 112.66,''),
(22424, 52, -3510.4, 4040.77, 112.92,''),
(22424, 53, -3503.83, 4041.35, 113.17,''),
(22424, 54, -3498.31, 4040.65, 113.11,''),
(22424, 55, -3494.05, 4031.67, 113.11,''),
(22424, 56, -3487.71, 4025.58, 113.12,''),
(22424, 57, -3500.42, 4012.93, 113.11,''),
(22424, 58, -3510.86, 4010.15, 113.1,''),
(22424, 59, -3518.07, 4008.62, 112.97,''),
(22424, 60, -3524.74, 4014.55, 112.41,'SAY_SKYWING_JUMP'),
(22424, 61, -3537.81, 4008.59, 92.53,''),
(22424, 62, -3546.25, 4008.81, 92.79,''),
(22424, 63, -3552.07, 4006.48, 92.84,''),
(22424, 64, -3556.29, 4000.14, 92.92,''),
(22424, 65, -3556.16, 3991.24, 92.92,''),
(22424, 66, -3551.48, 3984.28, 92.91,''),
(22424, 67, -3542.9, 3981.64, 92.91,''),
(22424, 68, -3534.82, 3983.98, 92.92,''),
(22424, 69, -3530.58, 3989.91, 92.85,''),
(22424, 70, -3529.85, 3998.77, 92.59,''),
(22424, 71, -3534.15, 4008.45, 92.34,''),
(22424, 72, -3532.87, 4012.97, 91.64,''),
(22424, 73, -3530.57, 4023.42, 86.82,''),
(22424, 74, -3528.24, 4033.91, 85.69,''),
(22424, 75, -3526.22, 4043.75, 87.26,''),
(22424, 76, -3523.84, 4054.29, 92.42,''),
(22424, 77, -3522.44, 4059.06, 92.92,''),
(22424, 78, -3514.26, 4060.72, 92.92,''),
(22424, 79, -3507.76, 4065.21, 92.92,''),
(22424, 80, -3503.24, 4076.63, 92.92,'SAY_SKYWING_SUMMON'),
(22424, 81, -3504.23, 4080.47, 92.92,'SPELL_TRANSFORM'),
(22424, 82, -3519.12, 4057.43, 92.93,'DESPAWN');
