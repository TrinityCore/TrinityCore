-- SpawnGroupMapper auto-generated SQL for map 469 (Blackwing Lair)

-- Constant setter section - adjust this
-- spawn_group_template (8 entries)
SET @FIRSTGROUPID := 59;
-- Boss state associations
SET @RAZORGORE := 0; -- boss state that controls group "Razorgore"
SET @VAELASTRASZ := 1; -- boss state that controls group "Vaelastrasz"
SET @BROODLORD := 2; -- boss state that controls group "Broodlord"
SET @FLAMEGOR := 5; -- boss state that controls group "Flamegor"
SET @FIREMAW := 3; -- boss state that controls group "Firemaw"
SET @EBONROC := 4; -- boss state that controls group "Ebonroc"
SET @CHROMAGGUS := 6; -- boss state that controls group "Chromaggus"
SET @NEFARIAN := 7; -- boss state that controls group "Nefarian"

-- DB modification section - you shouldn't need to touch this
-- Insert spawn group templates
DELETE FROM `spawn_group_template` WHERE `groupId` BETWEEN @FIRSTGROUPID+0 AND @FIRSTGROUPID+7;
INSERT INTO `spawn_group_template` (`groupId`,`groupName`,`groupFlags`) VALUES
(@FIRSTGROUPID+0, "Blackwing Lair - Razorgore", 0x04),
(@FIRSTGROUPID+1, "Blackwing Lair - Vaelastrasz", 0x04),
(@FIRSTGROUPID+2, "Blackwing Lair - Broodlord", 0x04),
(@FIRSTGROUPID+3, "Blackwing Lair - Flamegor", 0x04),
(@FIRSTGROUPID+4, "Blackwing Lair - Firemaw", 0x04),
(@FIRSTGROUPID+5, "Blackwing Lair - Ebonroc", 0x04),
(@FIRSTGROUPID+6, "Blackwing Lair - Chromaggus", 0x04),
(@FIRSTGROUPID+7, "Blackwing Lair - Nefarian", 0x04);

-- Insert spawn group data
DELETE FROM `spawn_group` WHERE `groupId` BETWEEN @FIRSTGROUPID+0 AND @FIRSTGROUPID+7;
INSERT INTO `spawn_group` (`groupId`,`spawnType`,`spawnId`) VALUES
(@FIRSTGROUPID+2, 0, 85843),
(@FIRSTGROUPID+2, 0, 128863),
(@FIRSTGROUPID+3, 0, 84534),
(@FIRSTGROUPID+2, 0, 84566),
(@FIRSTGROUPID+2, 0, 128544),
(@FIRSTGROUPID+2, 0, 128129),
(@FIRSTGROUPID+5, 0, 85780),
(@FIRSTGROUPID+2, 0, 85844),
(@FIRSTGROUPID+3, 0, 128896),
(@FIRSTGROUPID+3, 0, 84535),
(@FIRSTGROUPID+0, 0, 84567),
(@FIRSTGROUPID+2, 0, 127523),
(@FIRSTGROUPID+2, 0, 128130),
(@FIRSTGROUPID+3, 0, 84759),
(@FIRSTGROUPID+2, 0, 85845),
(@FIRSTGROUPID+2, 0, 128865),
(@FIRSTGROUPID+3, 0, 128897),
(@FIRSTGROUPID+3, 0, 84536),
(@FIRSTGROUPID+2, 0, 127524),
(@FIRSTGROUPID+2, 0, 128131),
(@FIRSTGROUPID+3, 0, 84760),
(@FIRSTGROUPID+2, 0, 128866),
(@FIRSTGROUPID+3, 0, 84537),
(@FIRSTGROUPID+2, 0, 127525),
(@FIRSTGROUPID+2, 0, 128132),
(@FIRSTGROUPID+3, 0, 84761),
(@FIRSTGROUPID+2, 0, 85847),
(@FIRSTGROUPID+2, 0, 128867),
(@FIRSTGROUPID+3, 0, 84538),
(@FIRSTGROUPID+2, 0, 127526),
(@FIRSTGROUPID+3, 0, 84634),
(@FIRSTGROUPID+2, 0, 128133),
(@FIRSTGROUPID+3, 0, 84762),
(@FIRSTGROUPID+2, 0, 85848),
(@FIRSTGROUPID+3, 0, 128900),
(@FIRSTGROUPID+3, 0, 84539),
(@FIRSTGROUPID+2, 0, 127527),
(@FIRSTGROUPID+3, 0, 84635),
(@FIRSTGROUPID+2, 0, 128134),
(@FIRSTGROUPID+3, 0, 84763),
(@FIRSTGROUPID+2, 0, 85849),
(@FIRSTGROUPID+2, 0, 128454),
(@FIRSTGROUPID+3, 0, 84540),
(@FIRSTGROUPID+2, 0, 128518),
(@FIRSTGROUPID+1, 0, 85786),
(@FIRSTGROUPID+2, 0, 85850),
(@FIRSTGROUPID+3, 0, 84541),
(@FIRSTGROUPID+2, 0, 127529),
(@FIRSTGROUPID+2, 0, 85851),
(@FIRSTGROUPID+2, 0, 128871),
(@FIRSTGROUPID+3, 0, 84542),
(@FIRSTGROUPID+2, 0, 128520),
(@FIRSTGROUPID+2, 0, 127530),
(@FIRSTGROUPID+2, 0, 128616),
(@FIRSTGROUPID+3, 0, 85756),
(@FIRSTGROUPID+3, 0, 85788),
(@FIRSTGROUPID+2, 0, 128776),
(@FIRSTGROUPID+2, 0, 85884),
(@FIRSTGROUPID+2, 0, 128872),
(@FIRSTGROUPID+3, 0, 84543),
(@FIRSTGROUPID+2, 0, 127531),
(@FIRSTGROUPID+3, 0, 84639),
(@FIRSTGROUPID+2, 0, 128617),
(@FIRSTGROUPID+3, 0, 85757),
(@FIRSTGROUPID+2, 0, 128745),
(@FIRSTGROUPID+2, 0, 85853),
(@FIRSTGROUPID+2, 0, 84512),
(@FIRSTGROUPID+2, 0, 84544),
(@FIRSTGROUPID+2, 0, 128554),
(@FIRSTGROUPID+2, 0, 128618),
(@FIRSTGROUPID+3, 0, 85758),
(@FIRSTGROUPID+2, 0, 85854),
(@FIRSTGROUPID+2, 0, 84513),
(@FIRSTGROUPID+2, 0, 84545),
(@FIRSTGROUPID+2, 0, 128555),
(@FIRSTGROUPID+2, 0, 128076),
(@FIRSTGROUPID+2, 0, 128619),
(@FIRSTGROUPID+3, 0, 85759),
(@FIRSTGROUPID+2, 0, 85855),
(@FIRSTGROUPID+2, 0, 128875),
(@FIRSTGROUPID+2, 0, 84514),
(@FIRSTGROUPID+2, 0, 84546),
(@FIRSTGROUPID+2, 0, 128524),
(@FIRSTGROUPID+2, 0, 128556),
(@FIRSTGROUPID+2, 0, 128620),
(@FIRSTGROUPID+3, 0, 85760),
(@FIRSTGROUPID+2, 0, 85856),
(@FIRSTGROUPID+2, 0, 84387),
(@FIRSTGROUPID+2, 0, 128461),
(@FIRSTGROUPID+2, 0, 84547),
(@FIRSTGROUPID+2, 0, 127535),
(@FIRSTGROUPID+2, 0, 128621),
(@FIRSTGROUPID+3, 0, 85793),
(@FIRSTGROUPID+2, 0, 85857),
(@FIRSTGROUPID+0, 0, 84388),
(@FIRSTGROUPID+2, 0, 128877),
(@FIRSTGROUPID+2, 0, 128462),
(@FIRSTGROUPID+2, 0, 84548),
(@FIRSTGROUPID+2, 0, 127536),
(@FIRSTGROUPID+2, 0, 128590),
(@FIRSTGROUPID+2, 0, 128622),
(@FIRSTGROUPID+3, 0, 85794),
(@FIRSTGROUPID+2, 0, 128750),
(@FIRSTGROUPID+2, 0, 85858),
(@FIRSTGROUPID+3, 0, 84389),
(@FIRSTGROUPID+2, 0, 128878),
(@FIRSTGROUPID+2, 0, 128463),
(@FIRSTGROUPID+2, 0, 127473),
(@FIRSTGROUPID+2, 0, 127537),
(@FIRSTGROUPID+2, 0, 128591),
(@FIRSTGROUPID+2, 0, 128623),
(@FIRSTGROUPID+3, 0, 85795),
(@FIRSTGROUPID+2, 0, 85859),
(@FIRSTGROUPID+3, 0, 84390),
(@FIRSTGROUPID+2, 0, 128464),
(@FIRSTGROUPID+2, 0, 127474),
(@FIRSTGROUPID+2, 0, 128560),
(@FIRSTGROUPID+2, 0, 128592),
(@FIRSTGROUPID+2, 0, 128624),
(@FIRSTGROUPID+3, 0, 85764),
(@FIRSTGROUPID+3, 0, 85796),
(@FIRSTGROUPID+2, 0, 128784),
(@FIRSTGROUPID+2, 0, 84391),
(@FIRSTGROUPID+2, 0, 84519),
(@FIRSTGROUPID+2, 0, 127475),
(@FIRSTGROUPID+1, 0, 84615),
(@FIRSTGROUPID+2, 0, 128593),
(@FIRSTGROUPID+2, 0, 128625),
(@FIRSTGROUPID+3, 0, 85797),
(@FIRSTGROUPID+2, 0, 85861),
(@FIRSTGROUPID+2, 0, 128881),
(@FIRSTGROUPID+3, 0, 61997),
(@FIRSTGROUPID+2, 0, 128498),
(@FIRSTGROUPID+2, 0, 128562),
(@FIRSTGROUPID+2, 0, 128594),
(@FIRSTGROUPID+2, 0, 128626),
(@FIRSTGROUPID+3, 0, 85766),
(@FIRSTGROUPID+3, 0, 85798),
(@FIRSTGROUPID+2, 0, 128786),
(@FIRSTGROUPID+2, 0, 128882),
(@FIRSTGROUPID+3, 0, 84521),
(@FIRSTGROUPID+2, 0, 128499),
(@FIRSTGROUPID+3, 0, 84617),
(@FIRSTGROUPID+2, 0, 128595),
(@FIRSTGROUPID+3, 0, 85767),
(@FIRSTGROUPID+3, 0, 85799),
(@FIRSTGROUPID+2, 0, 85863),
(@FIRSTGROUPID+2, 0, 128883),
(@FIRSTGROUPID+3, 0, 61998),
(@FIRSTGROUPID+2, 0, 84554),
(@FIRSTGROUPID+2, 0, 128564),
(@FIRSTGROUPID+2, 0, 128596),
(@FIRSTGROUPID+3, 0, 85768),
(@FIRSTGROUPID+2, 0, 85800),
(@FIRSTGROUPID+2, 0, 85864),
(@FIRSTGROUPID+2, 0, 127480),
(@FIRSTGROUPID+2, 0, 128884),
(@FIRSTGROUPID+2, 0, 84559),
(@FIRSTGROUPID+4, 0, 84572),
(@FIRSTGROUPID+3, 0, 84523),
(@FIRSTGROUPID+2, 0, 84555),
(@FIRSTGROUPID+2, 0, 94839),
(@FIRSTGROUPID+2, 0, 128597),
(@FIRSTGROUPID+2, 0, 84556),
(@FIRSTGROUPID+7, 0, 85785),
(@FIRSTGROUPID+2, 0, 85801),
(@FIRSTGROUPID+3, 0, 85601),
(@FIRSTGROUPID+2, 0, 85865),
(@FIRSTGROUPID+3, 0, 85609),
(@FIRSTGROUPID+3, 0, 85621),
(@FIRSTGROUPID+2, 0, 128479),
(@FIRSTGROUPID+2, 0, 128081),
(@FIRSTGROUPID+2, 0, 85862),
(@FIRSTGROUPID+3, 0, 61999),
(@FIRSTGROUPID+2, 0, 128502),
(@FIRSTGROUPID+2, 0, 127538),
(@FIRSTGROUPID+2, 0, 94840),
(@FIRSTGROUPID+2, 0, 128598),
(@FIRSTGROUPID+3, 0, 84619),
(@FIRSTGROUPID+2, 0, 127522),
(@FIRSTGROUPID+2, 0, 85802),
(@FIRSTGROUPID+3, 0, 84650),
(@FIRSTGROUPID+0, 0, 128886),
(@FIRSTGROUPID+2, 0, 128127),
(@FIRSTGROUPID+2, 0, 127488),
(@FIRSTGROUPID+3, 0, 84525),
(@FIRSTGROUPID+2, 0, 84557),
(@FIRSTGROUPID+3, 0, 85611),
(@FIRSTGROUPID+2, 0, 128063),
(@FIRSTGROUPID+2, 0, 128599),
(@FIRSTGROUPID+3, 0, 84653),
(@FIRSTGROUPID+2, 0, 128519),
(@FIRSTGROUPID+2, 0, 128184),
(@FIRSTGROUPID+2, 0, 128478),
(@FIRSTGROUPID+2, 0, 85875),
(@FIRSTGROUPID+2, 0, 84552),
(@FIRSTGROUPID+2, 0, 84517),
(@FIRSTGROUPID+0, 0, 128887),
(@FIRSTGROUPID+3, 0, 85772),
(@FIRSTGROUPID+2, 0, 84516),
(@FIRSTGROUPID+2, 0, 127961),
(@FIRSTGROUPID+2, 0, 128504),
(@FIRSTGROUPID+3, 0, 85612),
(@FIRSTGROUPID+2, 0, 127532),
(@FIRSTGROUPID+3, 0, 84654),
(@FIRSTGROUPID+2, 0, 84551),
(@FIRSTGROUPID+2, 0, 128185),
(@FIRSTGROUPID+2, 0, 85804),
(@FIRSTGROUPID+2, 0, 127962),
(@FIRSTGROUPID+2, 0, 127534),
(@FIRSTGROUPID+2, 0, 128126),
(@FIRSTGROUPID+3, 0, 128888),
(@FIRSTGROUPID+2, 0, 128062),
(@FIRSTGROUPID+2, 0, 94831),
(@FIRSTGROUPID+3, 0, 84527),
(@FIRSTGROUPID+3, 0, 85581),
(@FIRSTGROUPID+3, 0, 85613),
(@FIRSTGROUPID+3, 0, 84623),
(@FIRSTGROUPID+3, 0, 84655),
(@FIRSTGROUPID+2, 0, 127487),
(@FIRSTGROUPID+2, 0, 128477),
(@FIRSTGROUPID+3, 0, 85773),
(@FIRSTGROUPID+2, 0, 85805),
(@FIRSTGROUPID+2, 0, 84550),
(@FIRSTGROUPID+2, 0, 84518),
(@FIRSTGROUPID+2, 0, 127533),
(@FIRSTGROUPID+2, 0, 128521),
(@FIRSTGROUPID+2, 0, 127485),
(@FIRSTGROUPID+3, 0, 84530),
(@FIRSTGROUPID+3, 0, 84528),
(@FIRSTGROUPID+2, 0, 84560),
(@FIRSTGROUPID+3, 0, 84624),
(@FIRSTGROUPID+2, 0, 127481),
(@FIRSTGROUPID+3, 0, 84688),
(@FIRSTGROUPID+2, 0, 84549),
(@FIRSTGROUPID+1, 0, 84603),
(@FIRSTGROUPID+2, 0, 85806),
(@FIRSTGROUPID+2, 0, 127516),
(@FIRSTGROUPID+2, 0, 128794),
(@FIRSTGROUPID+2, 0, 127514),
(@FIRSTGROUPID+2, 0, 127484),
(@FIRSTGROUPID+3, 0, 128890),
(@FIRSTGROUPID+2, 0, 128503),
(@FIRSTGROUPID+2, 0, 94814),
(@FIRSTGROUPID+3, 0, 84529),
(@FIRSTGROUPID+2, 0, 84561),
(@FIRSTGROUPID+2, 0, 127486),
(@FIRSTGROUPID+3, 0, 84625),
(@FIRSTGROUPID+2, 0, 127581),
(@FIRSTGROUPID+3, 0, 84689),
(@FIRSTGROUPID+2, 0, 127515),
(@FIRSTGROUPID+3, 0, 85775),
(@FIRSTGROUPID+3, 0, 85620),
(@FIRSTGROUPID+2, 0, 85839),
(@FIRSTGROUPID+3, 0, 128891),
(@FIRSTGROUPID+1, 0, 84606),
(@FIRSTGROUPID+2, 0, 128763),
(@FIRSTGROUPID+2, 0, 128476),
(@FIRSTGROUPID+2, 0, 84562),
(@FIRSTGROUPID+3, 0, 85616),
(@FIRSTGROUPID+2, 0, 128061),
(@FIRSTGROUPID+2, 0, 84515),
(@FIRSTGROUPID+2, 0, 128125),
(@FIRSTGROUPID+2, 0, 127482),
(@FIRSTGROUPID+3, 0, 85776),
(@FIRSTGROUPID+2, 0, 128517),
(@FIRSTGROUPID+2, 0, 85840),
(@FIRSTGROUPID+3, 0, 84522),
(@FIRSTGROUPID+3, 0, 84520),
(@FIRSTGROUPID+3, 0, 84526),
(@FIRSTGROUPID+3, 0, 128892),
(@FIRSTGROUPID+3, 0, 128902),
(@FIRSTGROUPID+1, 0, 84605),
(@FIRSTGROUPID+3, 0, 84531),
(@FIRSTGROUPID+2, 0, 84563),
(@FIRSTGROUPID+1, 0, 84616),
(@FIRSTGROUPID+3, 0, 84627),
(@FIRSTGROUPID+3, 0, 84691),
(@FIRSTGROUPID+2, 0, 127483),
(@FIRSTGROUPID+3, 0, 85777),
(@FIRSTGROUPID+3, 0, 84651),
(@FIRSTGROUPID+2, 0, 85841),
(@FIRSTGROUPID+1, 0, 84614),
(@FIRSTGROUPID+2, 0, 128861),
(@FIRSTGROUPID+2, 0, 84558),
(@FIRSTGROUPID+2, 0, 84553),
(@FIRSTGROUPID+2, 0, 128600),
(@FIRSTGROUPID+3, 0, 84532),
(@FIRSTGROUPID+2, 0, 84564),
(@FIRSTGROUPID+2, 0, 127520),
(@FIRSTGROUPID+3, 0, 84628),
(@FIRSTGROUPID+3, 0, 84652),
(@FIRSTGROUPID+3, 0, 84692),
(@FIRSTGROUPID+3, 0, 84648),
(@FIRSTGROUPID+3, 0, 85778),
(@FIRSTGROUPID+3, 0, 84524),
(@FIRSTGROUPID+3, 0, 67032),
(@FIRSTGROUPID+3, 0, 84618),
(@FIRSTGROUPID+2, 0, 128862),
(@FIRSTGROUPID+3, 0, 85625),
(@FIRSTGROUPID+3, 0, 85623),
(@FIRSTGROUPID+3, 0, 85622),
(@FIRSTGROUPID+3, 0, 84533),
(@FIRSTGROUPID+2, 0, 84565),
(@FIRSTGROUPID+2, 0, 127521),
(@FIRSTGROUPID+2, 0, 128064),
(@FIRSTGROUPID+3, 0, 84840),
(@FIRSTGROUPID+2, 0, 128128),
(@FIRSTGROUPID+3, 0, 85783),
(@FIRSTGROUPID+3, 0, 85779),
(@FIRSTGROUPID+1, 0, 84602),
(@FIRSTGROUPID+6, 0, 85784);

-- Link information for instance script
DELETE FROM `instance_spawn_groups` WHERE `instanceMapId` = 469;
INSERT INTO `instance_spawn_groups` (`instanceMapId`, `bossStateId`, `bossStates`, `spawnGroupId`, `flags`) VALUES
(469,@RAZORGORE,0x17,@FIRSTGROUPID+0,0x1), -- Spawn Razorgore if state is not DONE
(469,@VAELASTRASZ,0x17,@FIRSTGROUPID+1,0x1), -- Spawn Vaelastrasz if state is not DONE
(469,@BROODLORD,0x17,@FIRSTGROUPID+2,0x1), -- Spawn Broodlord if state is not DONE
(469,@FLAMEGOR,0x17,@FIRSTGROUPID+3,0x1), -- Spawn Flamegor if state is not DONE
(469,@FIREMAW,0x17,@FIRSTGROUPID+4,0x1), -- Spawn Firemaw if state is not DONE
(469,@EBONROC,0x17,@FIRSTGROUPID+5,0x1), -- Spawn Ebonroc if state is not DONE
(469,@CHROMAGGUS,0x17,@FIRSTGROUPID+6,0x1), -- Spawn Chromaggus if state is not DONE
(469,@NEFARIAN,0x17,@FIRSTGROUPID+7,0x1); -- Spawn Nefarian if state is not DONE

-- Remove legacy linked_respawn entries
DELETE lr FROM `linked_respawn` lr INNER JOIN `spawn_group` sg ON sg.`groupId` BETWEEN @FIRSTGROUPID+0 AND @FIRSTGROUPID+7 AND sg.`spawnType` = (lr.linkType >> 1) AND sg.`spawnId`=lr.`guid`;
