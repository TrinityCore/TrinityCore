-- Stratholme - King's Square
-- 3.x +4.x +6.x
-- rndmmovement
UPDATE `creature` SET `spawndist`=2 WHERE  `guid` IN (53148, 52999, 53000, 53000, 53149);
-- pathing
-- patchwerk 1
SET @NPC := 53954;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2,`position_x`=3656.723,`position_y`=-3513.025,`position_z`=136.9099 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH,1,3656.723,-3513.025,136.9099,0,0,0,0,100,0),
(@PATH,2,3657.473,-3512.525,136.9099,0,0,0,0,100,0),
(@PATH,3,3658.473,-3498.275,136.6599,0,0,0,0,100,0),
(@PATH,4,3658.507,-3497.959,136.9155,0,0,0,0,100,0),
(@PATH,5,3658.757,-3494.459,136.9155,0,0,0,0,100,0),
(@PATH,6,3654.507,-3492.959,136.9155,0,0,0,0,100,0),
(@PATH,7,3651.257,-3491.459,136.9155,0,0,0,0,100,0),
(@PATH,8,3645.507,-3488.959,137.4155,0,0,0,0,100,0),
(@PATH,9,3645.125,-3488.808,137.3199,0,0,0,0,100,0),
(@PATH,10,3643.375,-3488.058,137.5699,0,0,0,0,100,0),
(@PATH,11,3638.125,-3490.058,137.3199,0,0,0,0,100,0),
(@PATH,12,3635.125,-3491.308,137.5699,0,0,0,0,100,0),
(@PATH,13,3627.464,-3493.699,137.235,0,0,0,0,100,0),
(@PATH,14,3622.464,-3493.949,137.485,0,0,0,0,100,0),
(@PATH,15,3613.366,-3494.758,136.9154,0,0,0,0,100,0),
(@PATH,16,3609.366,-3491.258,136.6654,0,0,0,0,100,0),
(@PATH,17,3602.366,-3485.008,135.9154,0,0,0,0,100,0),
(@PATH,18,3595.843,-3479.371,135.1627,0,0,0,0,100,0),
(@PATH,19,3600.593,-3486.121,135.9127,0,0,0,0,100,0),
(@PATH,20,3605.343,-3493.371,136.6627,0,0,0,0,100,0),
(@PATH,21,3612.294,-3503.09,137.4564,0,0,0,0,100,0),
(@PATH,22,3613.294,-3504.09,137.4564,0,0,0,0,100,0),
(@PATH,23,3620.044,-3512.09,137.4564,0,0,0,0,100,0),
(@PATH,24,3622.044,-3514.34,137.2064,0,0,0,0,100,0),
(@PATH,25,3628.683,-3521.636,137.0146,0,0,0,0,100,0),
(@PATH,26,3632.433,-3521.136,136.7646,0,0,0,0,100,0),
(@PATH,27,3635.433,-3520.636,136.7646,0,0,0,0,100,0),
(@PATH,28,3639.933,-3519.886,137.0146,0,0,0,0,100,0),
(@PATH,29,3641.183,-3519.886,136.7646,0,0,0,0,100,0),
(@PATH,30,3647.269,-3518.891,136.7158,0,0,0,0,100,0),
(@PATH,31,3649.769,-3517.391,136.7158,0,0,0,0,100,0),
(@PATH,32,3656.769,-3513.141,136.9658,0,0,0,0,100,0);

-- patchwerk 2
SET @NPC := 53943;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2,`position_x`=3693.587,`position_y`=-3392.627,`position_z`=132.258 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH,1,3693.587,-3392.627,132.258,0,0,0,0,100,0),
(@PATH,2,3692.087,-3390.627,132.008,0,0,0,0,100,0),
(@PATH,3,3690.087,-3386.627,131.508,0,0,0,0,100,0),
(@PATH,4,3688.087,-3382.877,130.758,0,0,0,0,100,0),
(@PATH,5,3685.837,-3379.127,130.008,0,0,0,0,100,0),
(@PATH,6,3682.587,-3373.127,129.508,0,0,0,0,100,0),
(@PATH,7,3679.837,-3367.627,128.758,0,0,0,0,100,0),
(@PATH,8,3677.837,-3364.127,128.008,0,0,0,0,100,0),
(@PATH,9,3677.505,-3363.911,127.5753,0,0,0,0,100,0),
(@PATH,10,3676.505,-3361.911,127.0753,0,0,0,0,100,0),
(@PATH,11,3675.255,-3360.161,126.8253,0,0,0,0,100,0),
(@PATH,12,3674.505,-3358.911,126.3253,0,0,0,0,100,0),
(@PATH,13,3671.505,-3354.411,125.8253,0,0,0,0,100,0),
(@PATH,14,3669.005,-3350.161,125.5753,0,0,0,0,100,0),
(@PATH,15,3667.255,-3347.411,125.3253,0,0,0,0,100,0),
(@PATH,16,3662.255,-3339.911,124.5753,0,0,0,0,100,0),
(@PATH,17,3659.744,-3335.81,124.2587,0,0,0,0,100,0),
(@PATH,18,3661.244,-3333.56,124.0087,0,0,0,0,100,0),
(@PATH,19,3666.244,-3325.56,124.0087,0,0,0,0,100,0),
(@PATH,20,3667.994,-3322.81,124.0087,0,0,0,0,100,0),
(@PATH,21,3668.494,-3321.31,124.5087,0,0,0,0,100,0),
(@PATH,22,3673.494,-3313.06,126.5087,0,0,0,0,100,0),
(@PATH,23,3676.687,-3308.217,127.0456,0,0,0,0,100,0),
(@PATH,24,3678.437,-3301.217,127.5456,0,0,0,0,100,0),
(@PATH,25,3680.437,-3292.967,128.0456,0,0,0,0,100,0),
(@PATH,26,3681.687,-3288.717,128.2956,0,0,0,0,100,0),
(@PATH,27,3682.687,-3285.467,128.0456,0,0,0,0,100,0),
(@PATH,28,3683.687,-3280.967,128.0456,0,0,0,0,100,0),
(@PATH,29,3684.886,-3277.052,127.8707,0,0,0,0,100,0),
(@PATH,30,3691.386,-3272.302,128.1207,0,0,0,0,100,0),
(@PATH,31,3696.886,-3268.552,128.1207,0,0,0,0,100,0),
(@PATH,32,3703.386,-3263.302,127.8707,0,0,0,0,100,0),
(@PATH,33,3703.537,-3263.307,127.8513,0,0,0,0,100,0),
(@PATH,34,3696.787,-3268.307,128.1013,0,0,0,0,100,0),
(@PATH,35,3691.537,-3272.307,128.1013,0,0,0,0,100,0),
(@PATH,36,3684.775,-3277.28,127.9393,0,0,0,0,100,0),
(@PATH,37,3683.775,-3281.03,127.9393,0,0,0,0,100,0),
(@PATH,38,3682.525,-3285.28,127.9393,0,0,0,0,100,0),
(@PATH,39,3681.775,-3288.78,128.1893,0,0,0,0,100,0),
(@PATH,40,3680.775,-3292.78,127.9393,0,0,0,0,100,0),
(@PATH,41,3678.525,-3301.28,127.4393,0,0,0,0,100,0),
(@PATH,42,3676.775,-3307.78,126.9393,0,0,0,0,100,0),
(@PATH,43,3676.495,-3308.055,126.7956,0,0,0,0,100,0),
(@PATH,44,3676.495,-3308.305,126.7956,0,0,0,0,100,0),
(@PATH,45,3673.495,-3313.055,126.2956,0,0,0,0,100,0),
(@PATH,46,3668.495,-3321.305,124.5456,0,0,0,0,100,0),
(@PATH,47,3667.995,-3322.555,124.0456,0,0,0,0,100,0),
(@PATH,48,3666.245,-3325.555,124.0456,0,0,0,0,100,0),
(@PATH,49,3661.245,-3333.555,124.0456,0,0,0,0,100,0),
(@PATH,50,3661.398,-3333.665,124.0029,0,0,0,0,100,0),
(@PATH,51,3659.898,-3336.165,124.2529,0,0,0,0,100,0),
(@PATH,52,3662.398,-3339.915,124.5029,0,0,0,0,100,0),
(@PATH,53,3667.148,-3347.165,125.2529,0,0,0,0,100,0),
(@PATH,54,3668.898,-3349.915,125.2529,0,0,0,0,100,0),
(@PATH,55,3671.648,-3354.415,125.7529,0,0,0,0,100,0),
(@PATH,56,3674.398,-3358.915,126.2529,0,0,0,0,100,0),
(@PATH,57,3675.398,-3360.165,126.7529,0,0,0,0,100,0);

-- patchwerk 3
SET @NPC := 53953;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2,`position_x`=3548.131,`position_y`=-3350.274,`position_z`=129.7909 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH,1,3548.131,-3350.274,129.7909,0,0,0,0,100,0),
(@PATH,2,3553.131,-3348.024,129.2909,0,0,0,0,100,0),
(@PATH,3,3559.131,-3345.524,129.2909,0,0,0,0,100,0),
(@PATH,4,3566.631,-3342.524,129.7909,0,0,0,0,100,0),
(@PATH,5,3568.131,-3341.774,129.5409,0,0,0,0,100,0),
(@PATH,6,3575.881,-3338.274,128.7909,0,0,0,0,100,0),
(@PATH,7,3578.131,-3337.274,128.5409,0,0,0,0,100,0),
(@PATH,8,3586.131,-3334.024,128.0409,0,0,0,0,100,0),
(@PATH,9,3586.197,-3333.996,128.0313,0,0,0,0,100,0),
(@PATH,10,3586.697,-3333.746,128.0313,0,0,0,0,100,0),
(@PATH,11,3576.947,-3333.746,128.7813,0,0,0,0,100,0),
(@PATH,12,3569.697,-3333.496,129.2813,0,0,0,0,100,0),
(@PATH,13,3565.197,-3333.496,129.5313,0,0,0,0,100,0),
(@PATH,14,3560.02,-3333.251,129.5826,0,0,0,0,100,0),
(@PATH,15,3542.77,-3327.501,129.5826,0,0,0,0,100,0),
(@PATH,16,3537.52,-3325.501,129.5826,0,0,0,0,100,0),
(@PATH,17,3533.931,-3324.1,130.2483,0,0,0,0,100,0),
(@PATH,18,3526.181,-3320.85,130.9983,0,0,0,0,100,0),
(@PATH,19,3526.113,-3320.813,131.0822,0,0,0,0,100,0),
(@PATH,20,3534.17,-3324.386,129.9323,0,0,0,0,100,0),
(@PATH,21,3537.67,-3325.636,129.6823,0,0,0,0,100,0),
(@PATH,22,3542.67,-3327.386,129.6823,0,0,0,0,100,0),
(@PATH,23,3560.328,-3333.262,129.4392,0,0,0,0,100,0),
(@PATH,24,3565.078,-3333.262,129.4392,0,0,0,0,100,0),
(@PATH,25,3569.578,-3333.262,129.1892,0,0,0,0,100,0),
(@PATH,26,3577.078,-3333.262,128.6892,0,0,0,0,100,0),
(@PATH,27,3586.078,-3333.512,128.1892,0,0,0,0,100,0),
(@PATH,28,3586.124,-3333.573,128.1801,0,0,0,0,100,0),
(@PATH,29,3586.624,-3333.573,127.9301,0,0,0,0,100,0),
(@PATH,30,3578.124,-3337.323,128.6801,0,0,0,0,100,0),
(@PATH,31,3576.374,-3338.073,128.6801,0,0,0,0,100,0),
(@PATH,32,3568.124,-3341.823,129.4301,0,0,0,0,100,0),
(@PATH,33,3566.624,-3342.323,129.6801,0,0,0,0,100,0),
(@PATH,34,3559.124,-3345.573,129.4301,0,0,0,0,100,0),
(@PATH,35,3553.124,-3348.073,129.4301,0,0,0,0,100,0),
(@PATH,36,3547.868,-3350.434,130.0947,0,0,0,0,100,0),
(@PATH,37,3546.368,-3354.684,130.8447,0,0,0,0,100,0),
(@PATH,38,3543.118,-3365.184,131.8447,0,0,0,0,100,0),
(@PATH,39,3540.868,-3371.184,132.5947,0,0,0,0,100,0),
(@PATH,40,3538.868,-3376.434,132.5947,0,0,0,0,100,0);

-- ghoul 1
SET @NPC := 53594;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH, 1, 3473.78, -3366.93, 136.507, 0, 0, 0, 0, 100, 0),
(@PATH, 2, 3490.31, -3376.55, 135.208, 0, 0, 0, 0, 100, 0),
(@PATH, 3, 3503.41, -3381.49, 134.565, 0, 0, 0, 0, 100, 0),
(@PATH, 4, 3535.2, -3388.79, 132.377, 0, 0, 0, 0, 100, 0),
(@PATH, 5, 3537.69, -3394.79, 132.377, 0, 0, 0, 0, 100, 0),
(@PATH, 6, 3547.23, -3422.23, 135.428, 0, 0, 0, 0, 100, 0),
(@PATH, 7, 3542.17, -3409.17, 133.978, 0, 0, 0, 0, 100, 0),
(@PATH, 8, 3534.93, -3390.99, 132.376, 0, 0, 0, 0, 100, 0),
(@PATH, 9, 3514.6, -3385.83, 132.954, 0, 0, 0, 0, 100, 0),
(@PATH, 10, 3490.51, -3379.59, 135.276, 0, 0, 0, 0, 100, 0);

-- ghoul 2
SET @NPC := 53650;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH, 1, 3540.4, -3368.09, 132.121, 0, 0, 0, 0, 100, 0),
(@PATH, 2, 3542.78, -3361.51, 131.314, 0, 0, 0, 0, 100, 0),
(@PATH, 3, 3549.92, -3341.76, 129.224, 0, 0, 0, 0, 100, 0),
(@PATH, 4, 3560.03, -3335.19, 129.328, 0, 0, 0, 0, 100, 0),
(@PATH, 5, 3574.02, -3335.48, 128.637, 0, 0, 0, 0, 100, 0),
(@PATH, 6, 3573.64, -3335.16, 128.678, 0, 0, 0, 0, 100, 0),
(@PATH, 7, 3555.43, -3333.6, 129.334, 0, 0, 0, 0, 100, 0),
(@PATH, 8, 3551.14, -3346.93, 129.178, 0, 0, 0, 0, 100, 0),
(@PATH, 9, 3543.94, -3366.65, 131.755, 0, 0, 0, 0, 100, 0),
(@PATH, 10, 3538.8, -3383.53, 132.376, 0, 0, 0, 0, 100, 0),
(@PATH, 11, 3541.21, -3408.97, 133.924, 0, 0, 0, 0, 100, 0),
(@PATH, 12, 3543.48, -3415.58, 134.695, 0, 0, 0, 0, 100, 0),
(@PATH, 13, 3544.42, -3415.4, 134.705, 0, 0, 0, 0, 100, 0),
(@PATH, 14, 3540.17, -3402.06, 133.109, 0, 0, 0, 0, 100, 0),
(@PATH, 15, 3539.67, -3377.05, 132.376, 0, 0, 0, 0, 100, 0);

-- ghoul 3
SET @NPC := 53674;
SET @PATH := @NPC * 10;
UPDATE `creature` SET `spawndist`=0,`MovementType`=2 WHERE `guid`=@NPC;
DELETE FROM `creature_addon` WHERE `guid`=@NPC;
INSERT INTO `creature_addon` (`guid`,`path_id`,`mount`,`bytes1`,`bytes2`,`emote`,`auras`) VALUES (@NPC,@PATH,0,0,1,0, '');
DELETE FROM `waypoint_data` WHERE `id`=@PATH;
INSERT INTO `waypoint_data` (`id`,`point`,`position_x`,`position_y`,`position_z`,`orientation`,`delay`,`move_type`,`action`,`action_chance`,`wpguid`) VALUES
(@PATH, 1, 3522.5, -3323, 131.049, 0, 0, 0, 0, 100, 0),
(@PATH, 2, 3502.3, -3316.38, 130.224, 0, 0, 0, 0, 100, 0),
(@PATH, 3, 3526.88, -3322.32, 130.737, 0, 0, 0, 0, 100, 0),
(@PATH, 4, 3540.5, -3325.57, 129.385, 0, 0, 0, 0, 100, 0),
(@PATH, 5, 3560.99, -3330.15, 129.396, 0, 0, 0, 0, 100, 0),
(@PATH, 6, 3584.68, -3334.31, 127.753, 0, 0, 0, 0, 100, 0),
(@PATH, 7, 3571, -3331.47, 129.071, 0, 0, 0, 0, 100, 0),
(@PATH, 8, 3557.25, -3328.84, 129.396, 0, 0, 0, 0, 100, 0),
(@PATH, 9, 3532.13, -3323.54, 130.087, 0, 0, 0, 0, 100, 0);

 -- cadaver emote
 -- Mangled Cadaver SAI
SET @ENTRY := 10382;
UPDATE `creature_template` SET `AIName`="SmartAI" WHERE `entry`=@ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`,`source_type`,`id`,`link`,`event_type`,`event_phase_mask`,`event_chance`,`event_flags`,`event_param1`,`event_param2`,`event_param3`,`event_param4`,`action_type`,`action_param1`,`action_param2`,`action_param3`,`action_param4`,`action_param5`,`action_param6`,`target_type`,`target_param1`,`target_param2`,`target_param3`,`target_x`,`target_y`,`target_z`,`target_o`,`comment`) VALUES
(@ENTRY,0,0,0,0,0,100,3,0,0,30000,30000,11,16143,0,0,0,0,0,2,0,0,0,0,0,0,0,"Mangled Cadaver - In Combat - Cast 'Cadaver Worms' (No Repeat) (Normal Dungeon)"),
(@ENTRY,0,1,0,6,0,100,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,"Mangled Cadaver - On Just Died - Say Line 0");

DELETE FROM `creature_text` WHERE `entry`=10382;
INSERT INTO `creature_text` (`entry`, `groupid`, `id`, `text`, `type`, `language`, `probability`, `emote`, `duration`, `sound`, `BroadcastTextId`, `comment`) VALUES 
(10382, 0, 0, '%s collapses but the broken body rises again!', 16, 0, 100, 0, 0, 0, 5772, 'Mangled Cadaver');
