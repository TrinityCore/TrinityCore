/*
 * Copyright 2023 AzgathCore
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the
 * Free Software Foundation; either version 2 of the License, or (at your
 * option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program. If not, see <http://www.gnu.org/licenses/>.
 */

#include "eternal_palace.h"
#include "SpellAuraDefines.h"
#include "SpellAuraEffects.h"
#include "AreaTrigger.h"
#include "AreaTriggerAI.h"
#include "AreaTriggerTemplate.h"
#include "GameObject.h"
#include "ScriptedGossip.h"
#include "G3D/Vector3.h"

enum Spells
{
    SPELL_LONGING_CAST = 297934,
    SPELL_LONGING_AURA_PERIODIC = 304260,
    SPELL_PAINFUL_MEMORIES_CAST = 297937,
    SPELL_PAINFUL_MEMORIES_AURA_PERIODIC = 304267,
    SPELL_TORMENT = 297912,
    SPELL_CURSED_HEART_PERIODIC = 297898,
    SPELL_CURSED_HEART_AT = 297900,
    SPELL_CURSED_HEART_AT_DAMAGE = 297907,
    SPELL_CHAIN_LIGHTNING = 297972,
    SPELL_INFURIATED = 300428,
    SPELL_COLD_BLAST = 298014,
    SPELL_FROZEN = 298018,
    SPELL_ICE_SHARD = 298021,
    SPELL_LIGHTNING_ORB_DAMAGE = 298120,
    SPELL_LIGHTNING_ORB_SPELLDEST = 298121,
    SPELL_LIGHTNING_ORB_AT = 298119,
    SPELL_SERRATED_EDGE = 298756,
    SPELL_CHARGED_SPEAR = 298422,
    SPELL_DRAIN_ANCIENT_WARD_VISUAL = 302497,
    SPELL_BECKON_CAST = 299094,
    SPELL_DEVOTION = 300001,
    SPELL_CRUSHING_DEPTHS_SUMMON = 303828,
    SPELL_CRUSHING_DEPTHS_AURA = 303825,
    SPELL_BECKON_AT = 303759, //303224
    SPELL_ARCANE_ORBS_DUMMY = 298787,
    SPELL_ARCANE_ORBS_MISSILE = 298786,
    SPELL_ARCANE_ORBS_DAMAGE = 298782,
    SPELL_ARCANE_ORBS_AURA = 298781,
    SPELL_ARCANE_ORBS_AT = 298783,
    SPELL_GROUND_POUND_CHANNEL = 298531,
    SPELL_QUEENS_DECREE = 299250,
    SPELL_ARCANE_ORB_DECREE_AT = 304974,
    SPELL_SUFFER = 299249,
    SPELL_OBEY = 299251,
    SPELL_STAND_ALONE = 299255,
    SPELL_STAND_TOGETHER = 299254,
    SPELL_SANCTION = 299276,
    SPELL_DRAINED_SOUL = 298569,
    SPELL_TITANIC_MACHINATIONS = 303457,
    SPELL_PRESSURE_SURGE = 300074,
    SPELL_PRESSURE_SURGE_AT = 302208,
    SPELL_CATASTROPHIC_FAILURE = 300076,
    SPELL_ARCANE_JOLT = 304475,
    SPELL_ARCANE_VULNERABILITY = 302999,
    SPELL_ARCANE_MASTERY = 300502,
    SPELL_ARCANE_MISSILE = 300504,
    SPELL_ARCANE_BURST_DUMMY = 303629,
    SPELL_ARCANE_BURST_AURA = 303657,
    SPELL_ARCANE_BURST_DAMAGE = 303672,
    SPELL_ARCANE_DETONATION = 300518,
    SPELL_JEALOUSY = 303816,
    SPELL_REVERSAL_OF_FORTUNE = 297371,
    SPELL_ENERGIZE_WARD_OF_POWER = 300490,
    SPELL_DRAIN_ANCIENT_WARD = 300491,
    SPELL_STATIC_SHOCK = 300492,
    SPELL_CRYSTALLINE_SHIELD = 300620,
    SPELL_PIERCING_SPEAR = 300602,
    SPELL_VOID_TOUCHED = 300743,
    SPELL_NETHER_PORTAL_MISSILE = 303987,
    SPELL_NETHER_PORTAL_AT_DAMAGE = 303981,
    SPELL_NETHER_PORTAL_AT = 303980,
    SPELL_PIERCING_GAZE_AT = 300784,
    SPELL_PIERCING_GAZE_DAMAGE = 300785,
    SPELL_OVERLOAD_ESSENCE_OF_AZEROTH_AT = 301435,
    SPELL_OVERLOAD_ESSENCE_OF_AZEROTH_AT_MISSILE = 301456,
    SPELL_OVERLOAD_SYSTEM_SHOCK_AT = 301457,
    SPELL_OVERLOAD_SYSTEM_SHOCK_AT_MISSILE = 301458,
    SPELL_OVERLOAD_SHORT_CIRCUIT_AT = 301459,
    SPELL_OVERLOAD_SHORT_CIRCUIT_AT_MISSILE = 301460,
    SPELL_OVERLOAD_MISSILE = 301462,
    SPELL_OVERLOAD_AT = 301461,
    SPELL_OVERLOAD_DUMMY = 300807,
    SPELL_MASSIVE_ENERGY_SPIKE = 301518,
    SPELL_CONTROLLED_BURST = 301424,
    SPELL_CONTROLLED_BURST_DAMAGE = 301425,
    SPELL_SYSTEM_SHOCK_MISSILE = 301484,
    SPELL_SYSTEM_SHOCK_DAMAGE = 300877,
    SPELL_SHORT_CIRCUIT_PERIODIC = 301155,
    SPELL_SHORT_CIRCUIT_VISUAL = 301158,
    SPELL_SHORT_CIRCUIT_DUMMY = 300879,
    SPELL_ESSENCE_OF_AEROTH = 300866,
    SPELL_ESSENCE_OF_AZEROTH_MISSILE = 301483,
    SPELL_STAY_AURA = 299253,
    SPELL_STAY_AT = 305499, //no visual
    SPELL_MARCH_AT = 303480, //305399
    SPELL_MARCH_PERIODIC = 299252,
    SPELL_GREATER_REVERSAL_OF_FORTUNE = 297372,
    SPELL_FEEDBACK = 303644,
    SPELL_DIVIDE_AND_CONQUER_CAST = 307331,
    SPELL_DIVIDE_AND_CONQUER_DUMMY_KILL = 305415,
    SPELL_DIVIDE_AND_CONQUER_AT_1 = 300478,
    SPELL_DIVIDE_AND_CONQUER_AT_2 = 307332,
    SPELL_LIGHTNING_ORB_VISUAL = 293832,
};

enum Events
{
    EVENT_CHECK_ENERGY = 1,
    EVENT_PAINFUL_MEMORIES,
    EVENT_LONGING,
    EVENT_CHAIN_LIGHTNING,
    EVENT_LIGHTNING_ORB,
    EVENT_COLD_BLAST,
    EVENT_ICE_SHARD,
    EVENT_SERRATED_EDGE,
    EVENT_CHARGED_SPEAR,
    EVENT_DRAIN_ANCIENT_WARD,
    EVENT_BECKON,
    EVENT_ARCANE_ORBS,
    EVENT_SUMMON_HULK,
    EVENT_CHANGE_PHASE2,
    EVENT_SPECIAL_ENERGY,
    EVENT_CHECK_PLAYERS,
    EVENT_SELECT_RANDOM_WARD,
    EVENT_ARCANE_DETONATION,
    EVENT_ARCANE_BURST,
    EVENT_TITANIC_MACHINATIONS,
    EVENT_ARCANE_JOLT,
    EVENT_SUMMON_ADDS,
    EVENT_CHANGE_PHASE3,
    EVENT_CHARGE_WARD,
    EVENT_NETHER_PORTAL,
    EVENT_PIERCING_GAZE,
    EVENT_VOID_TOUCHED,
    EVENT_REVERSAL_OF_FORTUNE,
    EVENT_SUMMON_LOYAL_MYRMIDON,
    EVENT_SUMMON_TIDEMISTRESSES,
    EVENT_DIVINE_AND_CONQUER,
    EVENT_CRYSTALLINE_SHIELD,
    EVENT_STATIC_SHOCK,
    EVENT_OVERLOAD,
    EVENT_MASSIVE_ENERGY_SPIKE,
};

enum Timers
{
    TIMER_CHECK_ENERGY = 1 * IN_MILLISECONDS,
    TIMER_PAINFUL_MEMORIES = 8 * IN_MILLISECONDS,
    TIMER_LONGING = 20 * IN_MILLISECONDS,
    TIMER_CHAIN_LIGHTNING = 15 * IN_MILLISECONDS,
    TIMER_LIGHTNING_ORB = 35 * IN_MILLISECONDS,
    TIMER_COLD_BLAST = 10 * IN_MILLISECONDS,
    TIMER_ICE_SHARD = 5 * IN_MILLISECONDS,
    TIMER_SERRATED_EDGE = 3 * IN_MILLISECONDS,
    TIMER_CHARGED_SPEAR = 30 * IN_MILLISECONDS,
    TIMER_DRAIN_ANCIENT_WARD = 45 * IN_MILLISECONDS,
    TIMER_BECKON = 10 * IN_MILLISECONDS,
    TIMER_SUMMON_HULK = 45 * IN_MILLISECONDS,
    TIMER_ARCANE_ORBS = 50 * IN_MILLISECONDS,
    TIMER_CHANGE_PHASE = 20 * IN_MILLISECONDS,
    TIMER_SELECT_WARD = 1 * IN_MILLISECONDS,
    TIMER_ARCANE_JOLT = 15 * IN_MILLISECONDS,
    TIMER_TITANIC_MACHINATIONS = 5 * IN_MILLISECONDS,
    TIMER_ARCANE_BURST = 25 * IN_MILLISECONDS,
    TIMER_SUMMON_ADDS = 50 * IN_MILLISECONDS,
    TIMER_CHECK_PLAYERS = 2 * IN_MILLISECONDS,
    TIMER_NETHER_PORTAL = 30 * IN_MILLISECONDS,
    TIMER_VOID_TOUCHED = 25 * IN_MILLISECONDS,
    TIMER_SUMMON_LOYAL_MYRMIDON = 90 * IN_MILLISECONDS,
    TIMER_REVERSAL_OF_FORTUNE = 80 * IN_MILLISECONDS,
    TIMER_PIERCING_GAZE = 50 * IN_MILLISECONDS,
    TIMER_DIVIDE_AND_CONQUER = 55 * IN_MILLISECONDS,
    TIMER_STATIC_SHOCK = 25 * IN_MILLISECONDS,
    TIMER_OVERLOAD = 55 * IN_MILLISECONDS,
    TIMER_MASSIVE_ENERGY_SPIKE = 40 * IN_MILLISECONDS,
};

enum GameObjects
{
    GOB_SENTRY = 327636,
    GOB_WARD_RIGHT = 327631,
    GOB_WARD_SOUTH = 327632,
    GOB_WARD_LEFT = 327634,
    GOB_WARD_MIDDLE = 327635,
    GOB_TITAN_CONSOLE = 327633,
};

enum Points
{
    POINT_WARD_REACHED = 200,
};

Position centerPos = { 216.65f, 2444.94f, 710.65f };
Position middleWard = { centerPos };
Position leftWard = { 182.32f, 2454.58f, 710.79f };
Position rightWard = { 250.27f, 2454.62f, 710.79f };
Position southWard = { 216.27f, 2410.97f, 710.78f };
Position overloadATs = { 216.47f, 2415.98f, 712.34f };
Position azsharaPreEngage = { 266.21f, 2475.89f, 743.32f, 3.65f };
Position azsharaEngage = { 223.30f, 2482.45f, 710.81f };

Position rpAdds[4] =
{
    {206.12f, 2408.97f, 710.80f}, //thalyssra
    {200.15f, 2411.34f, 710.80f}, // jaina
    {227.28f, 2407.95f, 710.80f}, // lorthemar
    {232.28f, 2409.54f, 710.81f}, // shandris
};

Position firstAdds[2][1] =
{
    {
        {210.72f, 2480.79f, 710.80f },
    },

    {
        {229.15f, 2479.40f, 710.80f},
    },
};

enum Actions
{
    ACTION_INIT = 1,
    ACTION_ENGAGE_COMBAT_AZSHARA,
    ACTION_RP,
    ACTION_COUNT_SERVANTS_P1,
    ACTION_COUNT_SURGE,
    ACTION_REMOVE_SURGE,
    ACTION_NORMAL_ENERGY,
    ACTION_SPECIAL_EVENT,
};

void AddSC_boss_queen_azshara_ep()
{
    
}
